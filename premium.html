<!-- =========================
     premium.html (UPGRADED)
     - Same styling/concept as your latest pages
     - After Paystack success: server verifies payment + creates unique invite token
     - Invite email is sent to the payer email with a UNIQUE registration link
     - User creates account ONLY via that emailed link (premium-only accounts)
========================= -->
<!DOCTYPE html>
<html lang="en-NG" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />

  <title>Premium | Larmah Enterprise</title>
  <meta name="description" content="Priority sourcing, faster response, and concierge handling across Real Estate and Logistics — WhatsApp-first support with clean references." />
  <meta name="keywords" content="Larmah Premium, Concierge Nigeria, Priority Real Estate, Premium Logistics, VIP Sourcing" />
  <meta name="author" content="Larmah Enterprise" />
  <meta name="theme-color" content="#070A12" />
  <meta name="color-scheme" content="dark light" />
  <meta name="robots" content="index,follow" />
  <link rel="canonical" href="https://heylarmah.tech/premium.html" />

  <meta property="og:type" content="website" />
  <meta property="og:locale" content="en_NG" />
  <meta property="og:url" content="https://heylarmah.tech/premium.html" />
  <meta property="og:title" content="Larmah Premium | Priority Concierge" />
  <meta property="og:description" content="Priority sourcing and concierge handling across Real Estate and Logistics." />
  <meta property="og:image" content="https://heylarmah.tech/assets/images/larmah-header.jpeg" />
  <meta property="og:image:alt" content="Larmah Premium — Priority Concierge" />

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Larmah Premium" />
  <meta name="twitter:description" content="Priority sourcing and concierge handling across Real Estate and Logistics." />
  <meta name="twitter:image" content="https://heylarmah.tech/assets/images/larmah-header.jpeg" />

  <link rel="icon" href="assets/images/larmah-favicon.jpeg" type="image/jpeg" />
  <link rel="apple-touch-icon" href="assets/images/larmah-favicon.jpeg" />

  <link rel="preload" href="assets/images/larmah-favicon.jpeg" as="image" fetchpriority="high" />
  <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin />
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin />
  <link rel="preconnect" href="https://js.paystack.co" crossorigin />

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script defer src="assets/js/app.js"></script>
  <script src="https://js.paystack.co/v1/inline.js"></script>

  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"WebPage",
    "name":"Larmah Premium",
    "url":"https://heylarmah.tech/premium.html",
    "isPartOf":{"@type":"WebSite","name":"Larmah Enterprise","url":"https://heylarmah.tech/"},
    "about":{"@type":"Service","name":"Premium Concierge (Real Estate + Logistics)","areaServed":"NG"}
  }
  </script>

  <style>
    :root{
      --gold:#D4AF37; --gold2:#F5D57A;
      --radius: 18px; --radius2: 22px; --max: 1120px;
      --ease: cubic-bezier(.2,.8,.2,1);
      --shadow: 0 18px 50px rgba(0,0,0,.42);
      --shadow2: 0 12px 34px rgba(0,0,0,.30);
    }

    html[data-theme="dark"]{
      --bg:#070A12; --bg2:#050810;
      --panel: rgba(255,255,255,.03);
      --panel2: rgba(255,255,255,.02);
      --line: rgba(255,255,255,.10);
      --line2: rgba(255,255,255,.08);
      --text:#E9EDF7;
      --muted: rgba(233,237,247,.72);
      --muted2: rgba(233,237,247,.60);
      --headerBg: rgba(7,10,18,.72);
      --overlayBg: rgba(0,0,0,.55);
      --ctaBg: rgba(0,0,0,.28);
      --ctaLine: rgba(255,255,255,.12);
      --good: rgba(0,217,129,.95);
      --bad: rgba(255,90,103,.95);
      --warn: rgba(255,187,0,.95);
      --focus: rgba(245,213,122,.28);

      --logoGlow: 0 0 22px rgba(212,175,55,.14);
      --logoRing: rgba(255,255,255,.12);
      --logoBg: rgba(255,255,255,.03);
    }

    html[data-theme="light"]{
      --bg:#F7F7FB; --bg2:#FFFFFF;
      --panel: rgba(10,14,26,.04);
      --panel2: rgba(10,14,26,.03);
      --line: rgba(10,14,26,.12);
      --line2: rgba(10,14,26,.08);
      --text:#0E1526;
      --muted: rgba(14,21,38,.68);
      --muted2: rgba(14,21,38,.56);
      --headerBg: rgba(255,255,255,.78);
      --overlayBg: rgba(0,0,0,.40);
      --ctaBg: rgba(255,255,255,.78);
      --ctaLine: rgba(10,14,26,.10);
      --good: rgba(0,140,90,.92);
      --bad: rgba(200,34,60,.90);
      --warn: rgba(180,110,0,.92);
      --focus: rgba(212,175,55,.26);

      --shadow: 0 16px 46px rgba(0,0,0,.12);
      --shadow2: 0 10px 26px rgba(0,0,0,.10);

      --logoGlow: 0 0 0 rgba(0,0,0,0);
      --logoRing: rgba(10,14,26,.10);
      --logoBg: rgba(255,255,255,.65);
    }

    *{ box-sizing:border-box; }
    html{ scroll-behavior:smooth; }
    @media (prefers-reduced-motion: reduce){
      html{ scroll-behavior:auto; }
      *{ animation:none !important; transition:none !important; }
    }

    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";
      background:
        radial-gradient(900px 420px at 18% 6%, rgba(212,175,55,.10), transparent 60%),
        radial-gradient(900px 420px at 85% 10%, rgba(0,217,129,.06), transparent 62%),
        radial-gradient(900px 520px at 50% 110%, rgba(0,122,255,.06), transparent 58%),
        linear-gradient(180deg, var(--bg2), var(--bg));
      color: var(--text);
      overflow-x:hidden;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    a{ color: var(--text); text-decoration:none; }
    a:hover{ color: var(--gold); }
    .container{ max-width: var(--max); margin: 0 auto; padding: 0 16px; }

    .skip{
      position:absolute; left:-999px; top:10px;
      padding:10px 12px;
      border-radius: 12px;
      background: var(--gold);
      color:#111;
      font-weight: 950;
      z-index: 999;
    }
    .skip:focus{ left: 12px; outline: none; }
    :focus-visible{ outline: 2px solid var(--focus); outline-offset: 3px; border-radius: 12px; }

    header{
      position:sticky; top:0; z-index:50;
      background: var(--headerBg);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--line2);
    }
    .header-inner{ display:flex; align-items:center; gap:12px; padding: 12px 0; }
    .brand{ display:flex; align-items:center; gap:10px; min-width: 220px; }
    .logo-wrap{
      position:relative;
      width:44px; height:44px;
      border-radius: 14px;
      padding: 2px;
      background:
        radial-gradient(18px 18px at 25% 20%, rgba(245,213,122,.35), transparent 70%),
        radial-gradient(20px 20px at 85% 80%, rgba(212,175,55,.22), transparent 70%),
        linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.02));
      box-shadow: var(--logoGlow);
      border: 1px solid var(--logoRing);
      flex: 0 0 auto;
      isolation:isolate;
    }
    .logo-wrap::after{
      content:"";
      position:absolute; inset:-10px;
      background: radial-gradient(16px 16px at 50% 50%, rgba(212,175,55,.10), transparent 70%);
      filter: blur(12px);
      opacity:.8;
      pointer-events:none;
      z-index:-1;
    }
    .logo-wrap img{
      width:100%; height:100%;
      object-fit: cover;
      display:block;
      border-radius: 12px;
      border: 1px solid var(--line2);
      background: var(--logoBg);
    }
    .brand .btxt{ display:flex; flex-direction:column; line-height:1.05; gap:4px; min-width:0; }
    .brand .bname{ font-weight: 950; letter-spacing:-0.2px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
    .brand .bsub{ font-size:.86rem; color: var(--muted); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

    nav{ margin-left:auto; }
    nav ul{ display:flex; list-style:none; gap:18px; padding:0; margin:0; align-items:center; }
    .nav-link{ color: var(--text); opacity:.9; font-weight: 850; font-size: .95rem; position:relative; }
    .nav-link:hover{ color: var(--gold); opacity:1; }
    .nav-link.active{ color: var(--gold); opacity:1; }
    .nav-link.active::after{ content:""; position:absolute; left:0; right:0; bottom:-12px; height:2px; background: rgba(212,175,55,.65); border-radius:999px; }

    .header-actions{ display:flex; gap:10px; align-items:center; margin-left: 10px; }
    .icon-btn{
      width: 42px; height: 42px;
      border-radius: 12px;
      border: 1px solid var(--line);
      background: var(--panel);
      color: var(--text);
      display:inline-flex; align-items:center; justify-content:center;
      cursor:pointer;
      transition: transform .16s var(--ease), filter .16s var(--ease);
    }
    .icon-btn:hover{ transform: translateY(-1px); filter: brightness(1.05); }

    .menu-btn{
      display:none;
      border: 1px solid var(--line);
      background: var(--panel);
      color: var(--text);
      border-radius: 12px;
      padding: 10px 12px;
      cursor:pointer;
    }
    @media (max-width: 980px){
      nav{ display:none; }
      .menu-btn{ display:inline-flex; align-items:center; justify-content:center; }
      .header-actions{ margin-left:auto; }
    }

    .overlay{ position:fixed; inset:0; background: var(--overlayBg); display:none; align-items:flex-end; z-index:80; }
    .overlay.open{ display:flex; }
    .sheet{
      width:100%;
      border-radius: 18px 18px 0 0;
      border: 1px solid var(--line);
      background: color-mix(in oklab, var(--bg2) 82%, #000 18%);
      box-shadow: var(--shadow);
      padding: 14px;
    }
    .sheet-head{ display:flex; align-items:center; justify-content:space-between; padding-bottom: 10px; border-bottom: 1px solid var(--line2); margin-bottom: 10px; gap: 10px; }
    .sheet-brandline{ display:flex; align-items:center; gap:10px; min-width:0; }
    .sheet a{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      padding: 12px 12px;
      border-radius: 14px;
      border: 1px solid var(--line2);
      background: var(--panel2);
      color: var(--text);
      margin-bottom: 10px;
      font-weight: 900;
    }
    .sheet-actions{ display:flex; gap:10px; flex-wrap:wrap; margin-top: 8px; }

    .btn{
      display:inline-flex; align-items:center; justify-content:center; gap:10px;
      border-radius: 14px; padding: 12px 16px; min-height: 46px;
      border: 1px solid var(--line);
      background: var(--panel);
      color: var(--text);
      cursor:pointer;
      font-weight: 950;
      transition: transform .16s var(--ease), filter .16s var(--ease), background .16s var(--ease);
      white-space:nowrap;
      user-select:none;
      text-decoration:none;
    }
    .btn:hover{ transform: translateY(-1px); filter: brightness(1.03); }
    .btn:active{ transform: translateY(0); }
    .btn.solid{ background: var(--gold); color:#111; border-color: color-mix(in oklab, var(--gold) 55%, #000 45%); }
    .btn.primary{ background: var(--panel2); border-color: var(--line); }
    .btn.ghost{ background: transparent; border-color: var(--line2); }
    .btn.small{ min-height: 40px; padding: 10px 12px; border-radius: 12px; font-weight: 900; }
    .btn:disabled{ opacity:.6; cursor:not-allowed; transform:none !important; filter:none !important; }

    .page-wrap{ padding: 18px 0 0; }

    .hero{
      border-radius: var(--radius2);
      border: 1px solid var(--line);
      background:
        radial-gradient(900px 420px at 15% 0%, rgba(212,175,55,.16), transparent 55%),
        radial-gradient(900px 420px at 85% 20%, rgba(0,217,129,.10), transparent 60%),
        var(--panel2);
      box-shadow: var(--shadow);
      overflow:hidden;
      padding: 16px;
      position:relative;
      isolation:isolate;
    }
    .hero::before{
      content:"";
      position:absolute; inset:-2px;
      background:
        radial-gradient(380px 180px at 18% 0%, rgba(212,175,55,.20), transparent 60%),
        radial-gradient(420px 220px at 86% 12%, rgba(0,217,129,.12), transparent 65%),
        radial-gradient(520px 260px at 40% 105%, rgba(0,122,255,.10), transparent 62%);
      pointer-events:none;
      z-index:-1;
    }

    .hero-grid{ display:grid; gap: 14px; grid-template-columns: 1.1fr .9fr; align-items:start; }
    @media (max-width: 980px){ .hero-grid{ grid-template-columns: 1fr; } }

    .kicker{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; color: var(--muted); font-weight: 850; }
    .kicker .dot{ opacity:.65; }
    h1{ margin: 6px 0 10px; font-size: clamp(2.0rem, 4vw, 2.95rem); line-height: 1.05; letter-spacing:-0.6px; }
    .gold{ background: linear-gradient(180deg, var(--gold2), var(--gold)); -webkit-background-clip:text; background-clip:text; color:transparent; }
    .lead{ margin:0; color: var(--muted); font-size: 1.02rem; line-height: 1.55; }
    .hero-actions{ display:flex; gap:12px; flex-wrap:wrap; margin-top: 12px; }
    @media (max-width: 520px){ .hero-actions{ flex-direction:column; } .hero-actions .btn{ width:100%; } }

    .hero-panel{
      border-radius: 16px;
      border: 1px solid var(--line);
      background: var(--panel);
      box-shadow: var(--shadow2);
      padding: 12px;
    }
    .hero-panel h3{ margin:0; font-size:1.05rem; letter-spacing:-0.2px; }
    .hero-panel p{ margin:8px 0 0; color: var(--muted); line-height:1.45; }
    .bullets{ margin: 10px 0 0; padding: 0; list-style:none; display:grid; gap:10px; }
    .b{
      display:flex; gap:10px; align-items:flex-start;
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px solid var(--line2);
      background: var(--panel2);
    }
    .b i{ width:18px; margin-top:2px; color: var(--gold); }
    .b b{ display:block; }
    .b span{ display:block; margin-top:3px; color: var(--muted2); font-size:.92rem; line-height:1.35; }

    .section{ padding: 18px 0; }
    .section-head{ display:flex; align-items:flex-end; justify-content:space-between; gap:12px; margin-bottom: 12px; flex-wrap:wrap; }
    h2{ margin:0; font-size: 1.35rem; letter-spacing:-0.3px; }
    .subhead{ color: var(--muted); margin: 4px 0 0; font-size: .98rem; line-height:1.4; }

    .tiers{ display:grid; gap: 14px; grid-template-columns: repeat(3, minmax(0, 1fr)); }
    @media (max-width: 1024px){ .tiers{ grid-template-columns: 1fr; } }

    .tier{
      border-radius: var(--radius);
      border: 1px solid var(--line);
      background: var(--panel);
      box-shadow: var(--shadow2);
      overflow:hidden;
      position:relative;
    }
    .tier.featured{
      border-color: color-mix(in oklab, var(--gold) 35%, var(--line) 65%);
      background:
        radial-gradient(600px 220px at 20% 0%, rgba(212,175,55,.18), transparent 60%),
        var(--panel);
    }
    .tier-top{ padding: 14px; border-bottom: 1px solid var(--line2); }
    .tag{
      display:inline-flex; align-items:center; gap:8px;
      padding: 7px 10px;
      border-radius: 999px;
      border: 1px solid var(--line2);
      background: var(--panel2);
      color: color-mix(in oklab, var(--text) 80%, transparent);
      font-weight: 850;
      font-size: .84rem;
    }
    .tier h3{ margin: 10px 0 0; letter-spacing:-0.2px; }
    .price{
      margin-top: 8px;
      font-weight: 950;
      font-size: 1.45rem;
      letter-spacing: .2px;
      color: var(--gold2);
    }
    .tier-body{ padding: 14px; }
    .tier ul{ margin: 0; padding: 0 0 0 18px; color: var(--muted); line-height: 1.55; }
    .tier li{ margin: 6px 0; }
    .tier-actions{ margin-top: 12px; display:flex; gap:10px; flex-wrap:wrap; }
    .tier-actions .btn{ flex:1; }
    @media (max-width: 520px){ .tier-actions .btn{ width:100%; flex:unset; } }

    .form{
      border-radius: var(--radius2);
      border: 1px solid var(--line);
      background: var(--panel2);
      box-shadow: var(--shadow2);
      padding: 14px;
    }
    .form-grid{ display:grid; gap: 10px; grid-template-columns: repeat(4, minmax(0, 1fr)); }
    @media (max-width: 980px){ .form-grid{ grid-template-columns: 1fr 1fr; } }
    @media (max-width: 520px){ .form-grid{ grid-template-columns: 1fr; } }
    .field{ display:flex; flex-direction:column; gap:6px; }
    label{ font-size: .78rem; letter-spacing: .12em; text-transform: uppercase; color: var(--muted2); }
    input, select, textarea{
      border-radius: 14px;
      border: 1px solid var(--line);
      background: var(--panel);
      color: var(--text);
      padding: 12px;
      min-height: 46px;
      outline:none;
      font-family: inherit;
    }
    textarea{ min-height: 96px; resize: vertical; }

    .notice{
      border-radius: 16px;
      padding: 12px;
      border: 1px solid var(--line);
      background: var(--panel2);
      color: var(--muted);
    }
    .notice strong{ color: var(--text); }

    .receipt{
      margin-top: 12px;
      border-radius: 16px;
      border: 1px dashed color-mix(in oklab, var(--gold) 35%, var(--line) 65%);
      background: color-mix(in oklab, var(--panel2) 90%, white 10%);
      padding: 12px;
      display:none;
    }
    .receipt.show{ display:block; }
    .receipt .row{ display:flex; gap:10px; flex-wrap:wrap; align-items:flex-start; justify-content:space-between; }
    .mono{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace; font-size:.92rem; }

    .status-line{
      margin-top: 10px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      color: var(--muted);
      font-weight: 850;
      font-size: .92rem;
    }
    .dot{
      width:10px; height:10px; border-radius: 999px;
      background: rgba(255,255,255,.25);
      border: 1px solid var(--line2);
    }
    .dot.good{ background: var(--good); border-color: color-mix(in oklab, var(--good) 40%, var(--line2) 60%); }
    .dot.warn{ background: var(--warn); border-color: color-mix(in oklab, var(--warn) 40%, var(--line2) 60%); }
    .dot.bad{ background: var(--bad); border-color: color-mix(in oklab, var(--bad) 40%, var(--line2) 60%); }

    footer{
      margin-top: 18px;
      border-top: 1px solid var(--line);
      background: color-mix(in oklab, var(--bg2) 80%, #000 20%);
    }
    .footer-cta{
      margin-top: 14px;
      border-radius: 20px;
      border: 1px solid var(--line);
      background:
        radial-gradient(900px 420px at 15% 0%, rgba(212,175,55,.16), transparent 55%),
        radial-gradient(900px 420px at 85% 20%, rgba(0,217,129,.10), transparent 60%),
        var(--panel2);
      box-shadow: var(--shadow);
      padding: 14px;
      display:flex; gap:12px;
      align-items:center; justify-content:space-between;
      flex-wrap:wrap;
    }
    .footer-cta h3{ margin:0; font-size: 1.12rem; letter-spacing:-0.2px; }
    .footer-cta p{ margin: 6px 0 0; color: var(--muted); line-height: 1.4; }

    .footer-grid{ display:grid; gap: 16px; padding: 16px 0; grid-template-columns: 1.35fr 1fr 1fr; }
    @media (max-width: 980px){ .footer-grid{ grid-template-columns: 1fr; } }
    .brandline{ display:flex; align-items:center; gap:12px; min-width:0; }
    .brandname{ font-weight: 950; letter-spacing:-0.2px; line-height: 1.1; }
    .tagline{ color: var(--muted2); font-weight: 850; font-size: .92rem; margin-top: 4px; }
    .footer-col-title{ font-weight: 950; margin: 0 0 10px; letter-spacing: -0.2px; }
    .footer-links a{ display:block; padding: 6px 0; color: color-mix(in oklab, var(--text) 84%, transparent); font-weight: 600; }
    .footer-links a:hover{ color: var(--gold); }
    .contact-stack{ display:grid; gap: 10px; }
    .contact-chip{
      display:flex; gap:10px; align-items:flex-start;
      padding: 10px 12px; border-radius: 14px;
      border: 1px solid var(--line); background: var(--panel2);
    }
    .contact-chip i{ width: 18px; margin-top: 2px; color: var(--gold); opacity:.95; }
    .contact-chip .txt{ color: color-mix(in oklab, var(--text) 92%, transparent); font-weight: 900; }
    .contact-chip .sub{ color: var(--muted); font-size: .9rem; margin-top: 2px; }
    .social{ display:flex; gap:10px; flex-wrap:wrap; margin-top: 10px; }
    .social a{
      width: 42px; height: 42px;
      display:inline-flex; align-items:center; justify-content:center;
      border-radius: 12px; border: 1px solid var(--line);
      background: var(--panel2); color: var(--text);
    }
    .social a:hover{
      color:#111; background: var(--gold);
      border-color: color-mix(in oklab, var(--gold) 55%, #000 45%);
    }
    .footer-bottom{
      border-top: 1px solid var(--line2);
      padding: 12px 0 16px;
      display:flex; align-items:center; justify-content:space-between;
      gap:10px; flex-wrap:wrap;
      color: var(--muted2);
      font-size: .9rem;
    }

    .toast{
      position: fixed;
      left: 50%;
      bottom: 18px;
      transform: translateX(-50%);
      min-width: 220px;
      max-width: min(560px, calc(100vw - 28px));
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px solid var(--line);
      background: color-mix(in oklab, var(--bg2) 88%, #000 12%);
      box-shadow: var(--shadow2);
      color: var(--text);
      display:none;
      z-index: 120;
    }
    .toast.show{ display:block; }
  </style>
</head>

<body data-page="premium">
  <a class="skip" href="#main">Skip to content</a>

  <!-- Mobile nav -->
  <div class="overlay" id="overlay" aria-hidden="true">
    <div class="sheet" role="dialog" aria-label="Menu">
      <div class="sheet-head">
        <div class="sheet-brandline">
          <div class="logo-wrap" aria-hidden="true">
            <img src="assets/images/larmah-favicon.jpeg" alt="Larmah Enterprise" />
          </div>
          <div style="min-width:0">
            <div style="font-weight:950; line-height:1.1">Larmah Enterprise</div>
            <div style="color:var(--muted); font-weight:850; font-size:.92rem; margin-top:4px;">Real Estate • Logistics</div>
          </div>
        </div>
        <button class="icon-btn" type="button" onclick="toggleMenu(false)" aria-label="Close menu"><i class="fa-solid fa-xmark"></i></button>
      </div>

      <a href="index.html#about"><span><i class="fa-solid fa-circle-info" style="color:var(--gold)"></i> About</span><i class="fa-solid fa-chevron-right" style="opacity:.6"></i></a>
      <a href="real-estate.html"><span><i class="fa-solid fa-building" style="color:var(--gold)"></i> Real Estate</span><i class="fa-solid fa-chevron-right" style="opacity:.6"></i></a>
      <a href="logistics.html"><span><i class="fa-solid fa-truck-fast" style="color:var(--gold)"></i> Logistics</span><i class="fa-solid fa-chevron-right" style="opacity:.6"></i></a>
      <a href="premium.html"><span><i class="fa-solid fa-crown" style="color:var(--gold)"></i> Premium</span><i class="fa-solid fa-check" style="opacity:.9"></i></a>

      <div class="sheet-actions">
        <button class="btn primary" type="button" onclick="toggleTheme()" aria-label="Toggle light or dark theme">
          <i class="fa-solid fa-circle-half-stroke"></i> Toggle Theme
        </button>
        <button class="btn solid" type="button" onclick="openWA(buildMsg('Premium Enquiry', { Message:'Hello Larmah, I want Premium.' }))">
          <i class="fa-brands fa-whatsapp"></i> WhatsApp
        </button>
      </div>
    </div>
  </div>

  <header>
    <div class="container header-inner">
      <a class="brand" href="index.html#home" aria-label="Back to Index">
        <div class="logo-wrap" aria-hidden="true">
          <img src="assets/images/larmah-favicon.jpeg" alt="Larmah Enterprise" />
        </div>
        <div class="btxt">
          <div class="bname">Larmah Enterprise</div>
          <div class="bsub">Real Estate • Logistics</div>
        </div>
      </a>

      <nav aria-label="Primary navigation">
        <ul>
          <li><a class="nav-link" href="index.html#about">About</a></li>
          <li><a class="nav-link" href="real-estate.html">Real Estate</a></li>
          <li><a class="nav-link" href="logistics.html">Logistics</a></li>
          <li><a class="nav-link active" href="premium.html">Premium</a></li>
        </ul>
      </nav>

      <div class="header-actions">
        <button class="icon-btn" type="button" onclick="toggleTheme()" aria-label="Toggle theme" title="Toggle theme">
          <i class="fa-solid fa-circle-half-stroke"></i>
        </button>
        <button class="menu-btn" type="button" onclick="toggleMenu(true)" aria-label="Open menu"><i class="fa-solid fa-bars"></i></button>
      </div>
    </div>
  </header>

  <main id="main" class="container page-wrap" tabindex="-1">
    <section class="hero" aria-label="Premium hero">
      <div class="hero-grid">
        <div>
          <div class="kicker">
            <span>Priority response</span><span class="dot">•</span>
            <span>Better options</span><span class="dot">•</span>
            <span>Cleaner handling</span>
          </div>

          <h1>Go <span class="gold">Premium</span>.</h1>
          <p class="lead">
            Premium gives you priority sourcing + concierge handling across Real Estate and Logistics. After payment, we send a
            <strong>unique registration link</strong> to your email so you can create your Premium-only account.
          </p>

          <div class="hero-actions">
            <a class="btn solid" href="#tiers"><i class="fa-solid fa-layer-group"></i> View Tiers</a>
            <a class="btn primary" href="#pay"><i class="fa-solid fa-credit-card"></i> Pay with Paystack</a>
            <button class="btn ghost" type="button" onclick="openWA(buildMsg('Premium Enquiry', { Message:'Hello Larmah, I want Premium support.' }))">
              <i class="fa-brands fa-whatsapp"></i> WhatsApp
            </button>
          </div>

          <div class="notice" style="margin-top:12px;">
            <strong>Account Access:</strong> Only Premium subscribers can create an account.<br/>
            <strong>How you register:</strong> Pay → We verify payment → We email you a <b>unique registration link</b> (expires).<br/><br/>
            <strong>Business Email:</strong> <a href="mailto:business@heylarmah.tech">business@heylarmah.tech</a>
            &nbsp;•&nbsp; <strong>WhatsApp:</strong> +234 706 308 0605
          </div>
        </div>

        <aside class="hero-panel" aria-label="Premium benefits">
          <h3><i class="fa-solid fa-crown" style="color:var(--gold)"></i> What Premium unlocks</h3>
          <p>Sharper sourcing, faster confirmations, and premium deal-flow access — with traceable references.</p>

          <ul class="bullets">
            <li class="b"><i class="fa-solid fa-bolt"></i><div><b>Priority queue</b><span>Your requests move first — faster response and follow-up.</span></div></li>
            <li class="b"><i class="fa-solid fa-circle-check"></i><div><b>Cleaner shortlist</b><span>Verified options (where available) — less back-and-forth.</span></div></li>
            <li class="b"><i class="fa-solid fa-diagram-project"></i><div><b>Investing tracks</b><span>Deal support across real estate + logistics structures.</span></div></li>
            <li class="b"><i class="fa-solid fa-user-tie"></i><div><b>Concierge handling</b><span>We coordinate and confirm — you stay focused.</span></div></li>
          </ul>
        </aside>
      </div>
    </section>

    <section class="section" id="tiers" aria-label="Premium tiers">
      <div class="section-head">
        <div>
          <h2>Premium Tiers</h2>
          <p class="subhead">Pick a tier, then pay instantly. Registration link will be emailed after verification.</p>
        </div>
        <div class="mono" style="opacity:.85">RC: 9127113</div>
      </div>

      <div class="tiers">
        <article class="tier" aria-label="Priority tier">
          <div class="tier-top">
            <span class="tag"><i class="fa-solid fa-shield-halved"></i> Standard Priority</span>
            <h3>Priority</h3>
            <div class="price">₦10,000</div>
          </div>
          <div class="tier-body">
            <ul>
              <li>Priority response on Real Estate + Logistics</li>
              <li>Cleaner shortlist + faster confirmations</li>
              <li>WhatsApp follow-up + reference tracking</li>
              <li><strong>Premium-only account access</strong></li>
            </ul>
            <div class="tier-actions">
              <button class="btn solid" type="button" onclick="selectTierAndScroll('Priority')"><i class="fa-solid fa-credit-card"></i> Pay Now</button>
              <button class="btn primary" type="button" onclick="openWA(buildMsg('Premium Request', { Tier:'Priority', Message:'Hello Larmah, I want Priority Premium.' }))"><i class="fa-brands fa-whatsapp"></i> WhatsApp</button>
            </div>
          </div>
        </article>

        <article class="tier featured" aria-label="Concierge tier">
          <div class="tier-top">
            <span class="tag"><i class="fa-solid fa-crown"></i> Most Popular</span>
            <h3>Concierge</h3>
            <div class="price">₦25,000</div>
          </div>
          <div class="tier-body">
            <ul>
              <li>Dedicated concierge coordination</li>
              <li>Best options + faster confirmations</li>
              <li>Priority escalation on urgent requests</li>
              <li><strong>Premium-only account access</strong></li>
            </ul>
            <div class="tier-actions">
              <button class="btn solid" type="button" onclick="selectTierAndScroll('Concierge')"><i class="fa-solid fa-credit-card"></i> Pay Now</button>
              <button class="btn primary" type="button" onclick="openWA(buildMsg('Premium Request', { Tier:'Concierge', Message:'Hello Larmah, I want Concierge Premium.' }))"><i class="fa-brands fa-whatsapp"></i> WhatsApp</button>
            </div>
          </div>
        </article>

        <article class="tier" aria-label="Elite tier">
          <div class="tier-top">
            <span class="tag"><i class="fa-solid fa-gem"></i> Executive</span>
            <h3>Elite</h3>
            <div class="price">₦50,000</div>
          </div>
          <div class="tier-body">
            <ul>
              <li>White-glove end-to-end handling</li>
              <li>Reserved scheduling priority for logistics</li>
              <li>Deal structuring support</li>
              <li><strong>Premium-only account access</strong></li>
            </ul>
            <div class="tier-actions">
              <button class="btn solid" type="button" onclick="selectTierAndScroll('Elite')"><i class="fa-solid fa-credit-card"></i> Pay Now</button>
              <button class="btn primary" type="button" onclick="openWA(buildMsg('Premium Request', { Tier:'Elite', Message:'Hello Larmah, I want Elite Premium.' }))"><i class="fa-brands fa-whatsapp"></i> WhatsApp</button>
            </div>
          </div>
        </article>
      </div>

      <div class="notice" style="margin-top:14px;">
        <strong>Note:</strong> Amounts can be adjusted for custom scopes. After payment verification, you’ll receive a unique registration link via email.
      </div>
    </section>

    <section class="section" id="pay" aria-label="Paystack payment">
      <div class="section-head">
        <div>
          <h2>Pay with Paystack</h2>
          <p class="subhead">Use an email you can access — your <strong>unique registration link</strong> will be sent there.</p>
        </div>
      </div>

      <div class="form">
        <div class="form-grid">
          <div class="field" style="grid-column: span 2;">
            <label for="p_name">Full Name</label>
            <input id="p_name" placeholder="e.g., Lucky Osilamah" autocomplete="name" />
          </div>

          <div class="field" style="grid-column: span 2;">
            <label for="p_email">Email</label>
            <input id="p_email" type="email" placeholder="e.g., you@email.com" autocomplete="email" />
          </div>

          <div class="field" style="grid-column: span 2;">
            <label for="p_phone">WhatsApp Number</label>
            <input id="p_phone" placeholder="+234..." inputmode="tel" autocomplete="tel" />
          </div>

          <div class="field" style="grid-column: span 2;">
            <label for="p_tier">Tier</label>
            <select id="p_tier">
              <option value="Priority" selected>Priority (₦10,000)</option>
              <option value="Concierge">Concierge (₦25,000)</option>
              <option value="Elite">Elite (₦50,000)</option>
            </select>
          </div>

          <div class="field" style="grid-column: span 4;">
            <label for="p_notes">Notes (optional)</label>
            <textarea id="p_notes" placeholder="What do you need? Dates, locations, urgency, budgets, pickup/dropoff, investing interest, etc."></textarea>
          </div>
        </div>

        <div class="status-line" id="inviteStatus" style="display:none;">
          <span class="dot" id="inviteDot"></span>
          <span id="inviteText">—</span>
        </div>

        <div class="pillbar" style="margin-top:12px;">
          <button class="btn solid" id="payBtn" type="button" onclick="payWithPaystack()">
            <i class="fa-solid fa-lock"></i> Pay Now
          </button>

          <button class="btn primary" id="resendBtn" type="button" onclick="resendInvite()" disabled>
            <i class="fa-regular fa-paper-plane"></i> Resend Registration Link
          </button>

          <button class="btn ghost" type="button"
            onclick="openWA(buildMsg('Premium Enquiry', { Tier: document.getElementById('p_tier').value, Message:'Hello Larmah, I want to confirm Premium before payment.' }))">
            <i class="fa-brands fa-whatsapp"></i> Confirm on WhatsApp
          </button>
        </div>

        <div class="receipt" id="receipt">
          <div class="row">
            <div>
              <div style="font-weight:950; letter-spacing:-.2px;">
                <i class="fa-solid fa-circle-check" style="color:var(--gold)"></i> Payment successful
              </div>
              <div style="margin-top:6px; color:var(--muted); line-height:1.35;">
                Paystack Ref: <span class="mono" id="receiptRef">—</span>
                &nbsp;•&nbsp; Tier: <span class="mono" id="receiptTier">—</span>
                &nbsp;•&nbsp; Amount: <span class="mono" id="receiptAmt">—</span>
              </div>
              <div style="margin-top:8px; color:var(--muted); line-height:1.4;">
                Next step: check your email for the <strong>unique registration link</strong>. (Also check spam/promotions.)
              </div>
            </div>
            <div style="display:flex; gap:10px; flex-wrap:wrap;">
              <button class="btn small primary" type="button" onclick="copyRef()"><i class="fa-regular fa-copy"></i> Copy Ref</button>
              <button class="btn small solid" type="button" onclick="shareOnWhatsApp()"><i class="fa-brands fa-whatsapp"></i> Share</button>
            </div>
          </div>
        </div>

        <div class="notice" style="margin-top:12px;">
          <strong>Security:</strong> Payment verification + email delivery happens on the server (Supabase Edge Function). Your Paystack secret key is never exposed to the browser.
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <div class="footer-cta">
        <div>
          <h3>Priority support, cleaner handling.</h3>
          <p>Pay with Paystack — we’ll email your unique registration link.</p>
        </div>
        <div style="display:flex; gap:10px; flex-wrap:wrap;">
          <button class="btn solid" type="button" onclick="openWA(buildMsg('Premium Support', { Message:'Hello Larmah, I want Premium.' }))">
            <i class="fa-brands fa-whatsapp"></i> WhatsApp
          </button>
          <a class="btn primary" href="real-estate.html"><i class="fa-solid fa-building"></i> Real Estate</a>
          <a class="btn primary" href="logistics.html"><i class="fa-solid fa-truck-fast"></i> Logistics</a>
        </div>
      </div>

      <div class="footer-grid">
        <div>
          <div class="brandline">
            <div class="logo-wrap" aria-hidden="true">
              <img src="assets/images/larmah-favicon.jpeg" alt="Larmah Enterprise" />
            </div>
            <div>
              <div class="brandname">Larmah Enterprise</div>
              <div class="tagline">RC: 9127113</div>
            </div>
          </div>

          <div style="margin-top:10px; color:var(--muted); line-height:1.55;">
            Verified real estate and trusted logistics across Nigeria.
          </div>

          <div class="social" aria-label="Social links">
            <a href="https://instagram.com/hey_larmah" aria-label="Instagram" title="Instagram"><i class="fa-brands fa-instagram"></i></a>
            <a href="https://x.com/heylarmah_tech" aria-label="X" title="X"><i class="fa-brands fa-x-twitter"></i></a>
            <a href="https://t.me/heylarmah_tech" aria-label="Telegram" title="Telegram"><i class="fa-brands fa-telegram"></i></a>
            <a href="https://youtube.com/@heylarmah" aria-label="YouTube" title="YouTube"><i class="fa-brands fa-youtube"></i></a>
          </div>
        </div>

        <div>
          <div class="footer-col-title">Quick Links</div>
          <div class="footer-links">
            <a href="index.html#about">About</a>
            <a href="real-estate.html">Real Estate</a>
            <a href="logistics.html">Logistics</a>
            <a href="premium.html">Premium</a>
          </div>
        </div>

        <div>
          <div class="footer-col-title">Contact</div>
          <div class="contact-stack">
            <div class="contact-chip">
              <i class="fa-brands fa-whatsapp"></i>
              <div>
                <div class="txt">+234 706 308 0605</div>
                <div class="sub">WhatsApp-first support</div>
              </div>
            </div>
            <div class="contact-chip">
              <i class="fa-regular fa-envelope"></i>
              <div>
                <div class="txt"><a href="mailto:business@heylarmah.tech">business@heylarmah.tech</a></div>
                <div class="sub">Business enquiries</div>
              </div>
            </div>
            <div class="contact-chip">
              <i class="fa-solid fa-location-dot"></i>
              <div>
                <div class="txt">Lagos, Nigeria</div>
                <div class="sub">Serving Nigeria nationwide</div>
              </div>
            </div>
          </div>

          <div style="margin-top:12px; display:flex; gap:10px; flex-wrap:wrap;">
            <a class="btn small solid" href="#pay"><i class="fa-solid fa-credit-card"></i> Pay Now</a>
            <button class="btn small primary" type="button" onclick="openWA(buildMsg('Premium Support', { Message:'Hello Larmah, I want Premium.' }))">
              <i class="fa-brands fa-whatsapp"></i> Chat
            </button>
          </div>
        </div>
      </div>

      <div class="footer-bottom">
        <div>© <span id="year"></span> Larmah Enterprise. All rights reserved.</div>
      </div>
    </div>
  </footer>

  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <script>
    // ===== basics
    document.getElementById("year").textContent = new Date().getFullYear();
    const reduceMotion = window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches;

    function toast(msg){
      const t = document.getElementById("toast");
      if(!t) return;
      t.textContent = msg;
      t.classList.add("show");
      clearTimeout(window.__toastT);
      window.__toastT = setTimeout(() => t.classList.remove("show"), 2400);
    }

    // ===== theme (match your upgraded pages)
    const THEME_KEY = "larmah_theme_v6";
    function setTheme(theme){
      document.documentElement.setAttribute("data-theme", theme);
      localStorage.setItem(THEME_KEY, theme);
      const metaTheme = document.querySelector('meta[name="theme-color"]');
      if(metaTheme) metaTheme.setAttribute("content", theme === "light" ? "#F7F7FB" : "#070A12");
    }
    function toggleTheme(){
      const cur = document.documentElement.getAttribute("data-theme") || "dark";
      setTheme(cur === "dark" ? "light" : "dark");
    }
    (function initTheme(){
      const saved = localStorage.getItem(THEME_KEY);
      if(saved === "light" || saved === "dark"){ setTheme(saved); return; }
      const prefersLight = window.matchMedia && window.matchMedia("(prefers-color-scheme: light)").matches;
      setTheme(prefersLight ? "light" : "dark");
    })();

    // ===== mobile menu
    const overlay = document.getElementById("overlay");
    function toggleMenu(open){
      overlay.classList.toggle("open", !!open);
      overlay.setAttribute("aria-hidden", open ? "false" : "true");
    }
    overlay.addEventListener("click", (e) => { if(e.target === overlay) toggleMenu(false); });

    // ===== helpers
    function buildMsg(title, data){
      if(window.LARMAH?.buildMessage) return LARMAH.buildMessage(title, data);
      const lines = [title, ""];
      for(const [k,v] of Object.entries(data || {})){
        const val = (v ?? "").toString().trim();
        if(val) lines.push(`${k}: ${val}`);
      }
      return lines.join("\n");
    }
    function openWA(text){
      if(window.LARMAH?.openWhatsApp) return LARMAH.openWhatsApp(text);
      const phone = "2347063080605";
      window.open(`https://wa.me/${phone}?text=${encodeURIComponent(text)}`, "_blank", "noopener,noreferrer");
    }
    function isValidEmail(email){
      return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(String(email||"").trim());
    }

    // ===== tiers
    const TIER_AMOUNTS_NGN = { "Priority": 10000, "Concierge": 25000, "Elite": 50000 };
    function money(n){ return `₦${Number(n||0).toLocaleString()}`; }
    function selectTierAndScroll(tier){
      const sel = document.getElementById("p_tier");
      if(sel) sel.value = tier;
      document.getElementById("pay")?.scrollIntoView({ behavior: reduceMotion ? "auto" : "smooth", block: "start" });
      toast(`Selected: ${tier}`);
    }
    window.selectTierAndScroll = selectTierAndScroll;

    // ===== Paystack
    const PAYSTACK_PUBLIC_KEY = "pk_live_69041d3bd5d37d2d88c5c3fe64de4c385e5f025b";

    // ✅ REQUIRED: Supabase Edge Function endpoints (server-side verifies + emails unique link)
    // Create these functions exactly as named below:
    // - premium-invite   (verifies Paystack, creates invite token, emails link)
    // - premium-resend   (re-sends invite link if not used/expired)
    const PREMIUM_INVITE_FN = "/functions/v1/premium-invite";
    const PREMIUM_RESEND_FN = "/functions/v1/premium-resend";

    function makeClientRef(){
      const t = Date.now().toString().slice(-8);
      const r = Math.random().toString(16).slice(2, 8).toUpperCase();
      return `LARMAH-PR-${t}-${r}`;
    }

    const receiptEl = document.getElementById("receipt");
    const receiptRefEl = document.getElementById("receiptRef");
    const receiptTierEl = document.getElementById("receiptTier");
    const receiptAmtEl = document.getElementById("receiptAmt");

    const inviteStatus = document.getElementById("inviteStatus");
    const inviteDot = document.getElementById("inviteDot");
    const inviteText = document.getElementById("inviteText");

    const payBtn = document.getElementById("payBtn");
    const resendBtn = document.getElementById("resendBtn");

    let __lastReceipt = null; // { ref, tier, amountNgn, email, name, phone }

    function setInviteStatus(kind, text){
      if(!inviteStatus) return;
      inviteStatus.style.display = "flex";
      inviteDot.classList.remove("good","warn","bad");
      inviteDot.classList.add(kind === "good" ? "good" : kind === "warn" ? "warn" : "bad");
      inviteText.textContent = text;
    }

    function showReceipt({ ref, tier, amountNgn }){
      __lastReceipt = { ...( __lastReceipt || {} ), ref, tier, amountNgn };
      receiptRefEl.textContent = ref;
      receiptTierEl.textContent = tier;
      receiptAmtEl.textContent = money(amountNgn);
      receiptEl.classList.add("show");
    }

    async function copyToClipboard(txt){
      try{
        await navigator.clipboard.writeText(txt);
        toast("Copied.");
      } catch {
        const ta = document.createElement("textarea");
        ta.value = txt;
        ta.style.position = "fixed";
        ta.style.left = "-9999px";
        document.body.appendChild(ta);
        ta.select();
        try{ document.execCommand("copy"); } catch {}
        document.body.removeChild(ta);
        toast("Copied.");
      }
    }
    function copyRef(){
      if(!__lastReceipt?.ref) return toast("No reference yet.");
      copyToClipboard(__lastReceipt.ref);
    }
    window.copyRef = copyRef;

    function shareOnWhatsApp(){
      if(!__lastReceipt?.ref) return toast("No reference yet.");
      openWA(buildMsg("Premium Payment Confirmation", {
        Tier: __lastReceipt.tier,
        Amount: money(__lastReceipt.amountNgn),
        Ref: __lastReceipt.ref,
        Email: __lastReceipt.email,
        Name: __lastReceipt.name,
        Phone: __lastReceipt.phone,
        Message: "Hello Larmah, I’ve completed payment. Please confirm and send my registration link."
      }));
    }
    window.shareOnWhatsApp = shareOnWhatsApp;

    // Calls Edge Function to verify + email unique registration link
    async function requestInvite({ paystackRef, clientRef, name, email, phone, tier, amountNgn, notes }){
      setInviteStatus("warn", "Verifying payment and preparing your registration link…");
      try{
        const res = await fetch(PREMIUM_INVITE_FN, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ paystackRef, clientRef, name, email, phone, tier, amountNgn, notes })
        });
        const data = await res.json().catch(() => ({}));
        if(!res.ok){
          setInviteStatus("bad", data?.error || "Payment recorded. Could not send email link yet. Try Resend.");
          return { ok:false, data };
        }
        setInviteStatus("good", "Registration link sent to your email. Check inbox/spam.");
        return { ok:true, data };
      } catch (e){
        setInviteStatus("bad", "Network error. Payment was successful. Use Resend to send link.");
        return { ok:false, error: String(e||"") };
      }
    }

    async function resendInvite(){
      const email = document.getElementById("p_email").value.trim();
      const tier = document.getElementById("p_tier").value;
      if(!email || !isValidEmail(email)) return toast("Enter a valid email first.");

      resendBtn.disabled = true;
      setInviteStatus("warn", "Resending your registration link…");
      try{
        const res = await fetch(PREMIUM_RESEND_FN, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ email, tier })
        });
        const data = await res.json().catch(() => ({}));
        if(!res.ok){
          setInviteStatus("bad", data?.error || "Could not resend link. Try again.");
          resendBtn.disabled = false;
          return;
        }
        setInviteStatus("good", "Registration link resent. Check your email.");
        toast("Sent.");
      } catch (e){
        setInviteStatus("bad", "Network error while resending.");
      }
      resendBtn.disabled = false;
    }
    window.resendInvite = resendInvite;

    async function payWithPaystack(){
      const name = document.getElementById("p_name").value.trim();
      const email = document.getElementById("p_email").value.trim();
      const phone = document.getElementById("p_phone").value.trim();
      const tier = document.getElementById("p_tier").value;
      const notes = document.getElementById("p_notes").value.trim();

      if(!name) return toast("Full name is required.");
      if(!email || !isValidEmail(email)) return toast("Enter a valid email.");
      if(!PAYSTACK_PUBLIC_KEY) return toast("Paystack public key missing.");

      const amountNgn = TIER_AMOUNTS_NGN[tier] || 10000;
      const clientRef = makeClientRef();

      if(!window.PaystackPop || typeof PaystackPop.setup !== "function"){
        toast("Paystack script not loaded. Reload the page.");
        return;
      }

      payBtn.disabled = true;
      resendBtn.disabled = true;
      setInviteStatus("warn", "Opening Paystack…");

      const handler = PaystackPop.setup({
        key: PAYSTACK_PUBLIC_KEY,
        email,
        amount: Math.round(amountNgn * 100), // kobo
        currency: "NGN",
        ref: clientRef,
        metadata: {
          custom_fields: [
            { display_name: "Customer Name", variable_name: "customer_name", value: name },
            { display_name: "Phone", variable_name: "phone", value: phone },
            { display_name: "Tier", variable_name: "tier", value: tier }
          ],
          notes
        },
        callback: async function(response){
          const paystackRef = response?.reference || clientRef;

          __lastReceipt = { ref: paystackRef, tier, amountNgn, email, name, phone };
          showReceipt({ ref: paystackRef, tier, amountNgn });

          // ✅ Immediately trigger server-side verify + email invite link
          const result = await requestInvite({ paystackRef, clientRef, name, email, phone, tier, amountNgn, notes });

          // allow resend if needed
          resendBtn.disabled = false;

          // optional WhatsApp confirmation (kept)
          openWA(buildMsg("Premium Payment Confirmation", {
            Tier: tier,
            Amount: money(amountNgn),
            PaystackRef: paystackRef,
            Email: email,
            Name: name,
            Phone: phone,
            Notes: notes || "—",
            Message: result.ok
              ? "Hello Larmah, I’ve paid. Registration link should have been emailed to me."
              : "Hello Larmah, I’ve paid. Please confirm my payment and send my registration link."
          }));

          payBtn.disabled = false;
        },
        onClose: function(){
          setInviteStatus("bad", "Payment window closed.");
          payBtn.disabled = false;
          // resend stays disabled until payment success
        }
      });

      handler.openIframe();
    }
    window.payWithPaystack = payWithPaystack;

    // expose
    window.toggleMenu = toggleMenu;
    window.toggleTheme = toggleTheme;
  </script>
</body>
</html>
