<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Larmah | Nigeria Commerce Hub</title>
    <link rel="icon" href="assets/images/larmah-favicon.jpeg" type="image/jpeg"/>
    <meta name="description" content="Real Estate, Logistics, FinTech verification, and Insights. Built for Nigeria community."/>
    
    <link rel="stylesheet" href="assets/css/style.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"/>
    
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script defer src="assets/js/app.js"></script>

    <style>
        /* Modern Enhancements */
        :root {
            --accent: #007AFF; /* Change this to match your brand color */
            --bg-dark: #0a0a0a;
            --glass: rgba(255, 255, 255, 0.03);
            --glass-border: rgba(255, 255, 255, 0.08);
        }

        @keyframes floaty { 0%{transform:translateY(0)} 50%{transform:translateY(-8px)} 100%{transform:translateY(0)} }
        
        header { backdrop-filter: blur(12px); border-bottom: 1px solid var(--glass-border); sticky top: 0; z-index: 1000; }
        
        .kpi { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 30px; }
        .kpi .card { 
            background: var(--glass); 
            border: 1px solid var(--glass-border); 
            padding: 24px; 
            border-radius: 16px;
            transition: all 0.3s ease;
        }
        .kpi .card:hover { background: rgba(255, 255, 255, 0.06); transform: translateY(-5px); }
        .kpi .card { animation: floaty 6s ease-in-out infinite; }
        .kpi .card:nth-child(2) { animation-delay: .4s; }
        .kpi .card:nth-child(3) { animation-delay: .8s; }

        /* Footer & Social Icons */
        footer { 
            background: #050505; 
            border-top: 1px solid var(--glass-border); 
            padding: 60px 0 30px 0; 
            margin-top: 80px; 
        }
        .social-links { display: flex; gap: 15px; margin-top: 20px; }
        .social-icon {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: var(--glass);
            color: #fff;
            text-decoration: none;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid var(--glass-border);
        }
        .social-icon:hover {
            background: var(--accent);
            transform: translateY(-4px);
            box-shadow: 0 10px 20px rgba(0, 122, 255, 0.3);
            color: white;
        }
        .footer-bottom { 
            margin-top: 40px; 
            padding-top: 20px; 
            border-top: 1px solid var(--glass-border);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }
        .footer-grid b { color: #fff; display: block; margin-bottom: 15px; text-transform: uppercase; font-size: 0.8rem; letter-spacing: 1px; }
        
        .brandline img { height: 35px; margin-bottom: 10px; }
        .btn.primary { background: var(--accent); border: none; font-weight: 600; }
    </style>
</head>

<body data-page="home">

<header>
    <div class="container header-inner">
        <a class="brand" href="index.html" aria-label="Home">
            <img src="assets/images/larmah-header.jpeg" alt="Larmah"/>
        </a>

        <button class="menu-btn" onclick="LARMAH.toggleMenu()" aria-label="Menu">
            <i class="fa-solid fa-bars"></i>
        </button>

        <nav id="nav" aria-label="Navigation">
            <ul>
                <li><a class="nav-link" href="real-estate.html">Real Estate</a></li>
                <li><a class="nav-link" href="logistics.html">Logistics</a></li>
                <li><a class="nav-link" href="fintech.html">FinTech</a></li>
                <li><a class="nav-link" href="insights.html">Insights</a></li>
            </ul>
        </nav>

        <div class="header-actions" id="authPill">
            <a class="pill primary" href="premium.html"><i class="fa-solid fa-star"></i> Premium</a>
        </div>
    </div>
</header>

<main class="container">
    <section class="hero">
        <div class="hero-shell">
            <div class="hero-inner">
                <div>
                    <h1>One trusted hub for Real Estate, Logistics & Verification in Nigeria.</h1>
                    <p class="lead">
                        Browse catalogues, send requests in seconds, and get quick WhatsApp responses. 
                        Insights give you real-time updates. Premium gets you priority service.
                    </p>

                    <div class="actions">
                        <a class="btn solid" href="real-estate.html"><i class="fa-solid fa-building"></i> Real Estate</a>
                        <a class="btn primary" href="logistics.html"><i class="fa-solid fa-truck-fast"></i> Logistics</a>
                        <a class="btn primary" href="fintech.html"><i class="fa-solid fa-shield-halved"></i> FinTech</a>
                        <a class="btn" href="insights.html"><i class="fa-solid fa-signal"></i> Insights</a>
                    </div>
                </div>

                <div class="hero-badges">
                    <div class="hero-card"><h3>Fast WhatsApp response</h3><p>Requests go straight to our business line.</p></div>
                    <div class="hero-card"><h3>Catalogues that update</h3><p>Admin edits products in Command Center.</p></div>
                    <div class="hero-card"><h3>Insights (real-time)</h3><p>Live prices + team updates.</p></div>
                </div>
            </div>
        </div>

        <div class="kpi">
            <div class="card"><h3>Trusted flow</h3><p>Clear steps, fewer scams.</p><div class="meta">Verification guidance</div></div>
            <div class="card"><h3>Organised service</h3><p>Requests tracked in one place.</p><div class="meta">Supabase requests</div></div>
            <div class="card"><h3>Community-first</h3><p>Simple language, easy actions.</p><div class="meta">Nigeria</div></div>
        </div>
    </section>

    <section class="section" id="latestCatalogues">
        <h2>Latest Catalogues</h2>
        <p class="lead">Recently updated items from our core sectors. Tap <b>Enquire</b> to chat on WhatsApp.</p>

        <div class="grid">
            <div class="card">
                <h3>Real Estate (Latest)</h3>
                <p class="small">Shortlets, rent, and buy options — updated daily.</p>
                <div id="latestRE"></div>
                <div class="actions" style="margin-top:12px;">
                    <a class="btn small" href="real-estate.html"><i class="fa-solid fa-arrow-right"></i> Open Real Estate</a>
                </div>
            </div>

            <div class="card">
                <h3>Logistics (Latest)</h3>
                <p class="small">Airport pickup, city movement, and premium fleet access.</p>
                <div id="latestLG"></div>
                <div class="actions" style="margin-top:12px;">
                    <a class="btn small" href="logistics.html"><i class="fa-solid fa-arrow-right"></i> Open Logistics</a>
                </div>
            </div>
        </div>
    </section>
</main>

<footer>
    <div class="container">
        <div class="footer-grid">
            <div>
                <div class="brandline">
                    <img src="assets/images/larmah-header.jpeg" alt="Larmah Logo"/>
                </div>
                <p class="small">Real Estate • Logistics • FinTech • Insights</p>
                
                <div class="social-links">
                    <a href="#" class="social-icon" aria-label="Instagram"><i class="fa-brands fa-instagram"></i></a>
                    <a href="#" class="social-icon" aria-label="X (Twitter)"><i class="fa-brands fa-x-twitter"></i></a>
                    <a href="#" class="social-icon" aria-label="Telegram"><i class="fa-brands fa-telegram"></i></a>
                    <a href="#" class="social-icon" aria-label="YouTube"><i class="fa-brands fa-youtube"></i></a>
                </div>
            </div>

            <div>
                <b>Contact Support</b>
                <div class="small" style="margin-top:8px;"><i class="fa-brands fa-whatsapp"></i> +234 706 308 0605</div>
                <div class="small"><i class="fa-regular fa-envelope"></i> business@heylarmah.tech</div>
                <div class="small"><i class="fa-solid fa-location-dot"></i> Lagos, Nigeria</div>
            </div>

            <div>
                <b>Resources</b>
                <div class="small" style="margin-top:8px;"><a href="auth.html">Sign in</a></div>
                <div class="small"><a href="admin.html">Command Center</a></div>
                <div class="small"><a href="premium.html">Upgrade to Premium</a></div>
            </div>
        </div>

        <div class="footer-bottom">
            <div class="small">© <span id="year"></span> Larmah Enterprise. All rights reserved.</div>
            <div class="small">Built for the Nigerian Community</div>
        </div>
    </div>
</footer>

<div id="toast" class="toast"></div>

<script>
    // Logic to update year automatically
    document.getElementById('year').textContent = new Date().getFullYear();

    async function renderLatestCatalogue(category, mountId, label){
        const mount = document.getElementById(mountId);
        if(!mount) return;

        mount.innerHTML = "<div class='notice'><strong>Loading…</strong></div>";

        try {
            const items = await LARMAH.fetchCatalog(category);
            const top = (items || []).slice(0, 3);

            if(!top.length){
                mount.innerHTML = "<div class='notice'>No current listings. Check back later.</div>";
                return;
            }

            mount.innerHTML = top.map(it => `
                <div style="padding:15px 0; border-bottom:1px solid var(--glass-border);">
                    <div style="font-weight:600; color:#fff;">${LARMAH.escapeHtml(it.title)}</div>
                    <div class="small" style="color:var(--accent);">${LARMAH.escapeHtml(it.price || "")}</div>
                    <div class="actions" style="margin-top:10px;">
                        <button class="btn small primary" onclick="enquireItem('${category}','${it.id}')">
                            <i class="fa-brands fa-whatsapp"></i> Enquire
                        </button>
                    </div>
                </div>
            `).join("");
        } catch (e) {
            mount.innerHTML = "<div class='small'>Unable to load items.</div>";
        }
    }

    async function enquireItem(category, id){
        const items = await LARMAH.fetchCatalog(category);
        const item = (items || []).find(x => String(x.id) === String(id));
        if(!item) { LARMAH.toast("Item not found"); return; }

        const msg = LARMAH.buildMessage("Catalogue Enquiry", {
            "Category": category,
            "Item": item.title,
            "Price": item.price || "",
        });

        LARMAH.openWhatsApp(msg);
    }

    document.addEventListener("DOMContentLoaded", async ()=>{
        await renderLatestCatalogue("real-estate", "latestRE", "Real Estate");
        await renderLatestCatalogue("logistics", "latestLG", "Logistics");
    });
</script>
</body>
</html>
