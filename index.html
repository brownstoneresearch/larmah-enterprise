<!-- =========================
     index.html (FULL — CLEAN + SYNCED)
     ✅ Syncs visual language with real-estate.html + logistics.html
     ✅ Not rowdy: reduced repeated info, clear hierarchy
     ✅ Mobile responsive, clean spacing, focused CTAs
     ✅ Featured pulls from Supabase listings where featured=true and status=active
     ✅ Featured cards: description preview + View more modal (price/ref/actions)
     ✅ Quick request switcher (Real Estate / Logistics) without clutter
========================= -->
<!DOCTYPE html>
<html lang="en-NG" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />

  <title>Larmah Enterprise — Real Estate & Logistics</title>
  <meta name="description" content="Trust-first real estate and logistics across Nigeria — verified listings, WhatsApp-first support, and fast coordination for stays and movement." />
  <meta name="keywords" content="Larmah Enterprise, Real Estate Nigeria, Shortlets Lagos, Verified Apartments, Logistics Nigeria, Dispatch Lagos" />
  <meta name="author" content="Larmah Enterprise" />
  <meta name="theme-color" content="#070A12" />
  <meta name="color-scheme" content="dark light" />
  <meta name="robots" content="index,follow" />
  <link rel="canonical" href="https://heylarmah.tech/" />

  <!-- Open Graph -->
  <meta property="og:locale" content="en_NG" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Larmah Enterprise — Real Estate & Logistics" />
  <meta property="og:description" content="Verified real estate and trusted logistics — WhatsApp-first support and trust-first standards." />
  <meta property="og:url" content="https://heylarmah.tech/" />
  <meta property="og:site_name" content="Larmah Enterprise" />
  <meta property="og:image" content="https://heylarmah.tech/assets/images/larmah-header.jpeg" />
  <meta property="og:image:alt" content="Larmah Enterprise" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Larmah Enterprise — Real Estate & Logistics" />
  <meta name="twitter:description" content="Verified real estate and trusted logistics — WhatsApp-first support and trust-first standards." />
  <meta name="twitter:image" content="https://heylarmah.tech/assets/images/larmah-header.jpeg" />

  <!-- Icons -->
  <link rel="icon" href="https://heylarmah.tech/assets/images/larmah-favicon.jpeg" type="image/jpeg" />
  <link rel="apple-touch-icon" href="https://heylarmah.tech/assets/images/larmah-favicon.jpeg" />

  <!-- Performance -->
  <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin />
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin />
  <link rel="preload" href="assets/images/larmah-favicon.jpeg" as="image" fetchpriority="high" />

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />

  <!-- ✅ Supabase + app.js -->
  <script>
    window.__SUPABASE_URL = "https://mskbumvopqnrhddfycfd.supabase.co";
    window.__SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1za2J1bXZvcHFucmhkZGZ5Y2ZkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYzMjA3ODYsImV4cCI6MjA4MTg5Njc4Nn0.68529BHKUz50dHP0ARptYC_OBXFLzpsvlK1ctbDOdZ4";
  </script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script defer src="assets/js/app.js"></script>

  <!-- Structured Data -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"Organization",
    "name":"Larmah Enterprise",
    "url":"https://heylarmah.tech/",
    "logo":"https://heylarmah.tech/assets/images/larmah-header.jpeg",
    "sameAs":[
      "https://instagram.com/hey_larmah",
      "https://x.com/heylarmah_tech",
      "https://t.me/heylarmah_tech",
      "https://youtube.com/@heylarmah"
    ],
    "contactPoint":[{
      "@type":"ContactPoint",
      "email":"business@heylarmah.tech",
      "telephone":"+2347063080605",
      "contactType":"customer support",
      "availableLanguage":["en"]
    }],
    "areaServed":"NG"
  }
  </script>

  <style>
    :root{
      --gold:#D4AF37;
      --gold2:#F5D57A;
      --radius: 18px;
      --radius2: 22px;
      --max: 1120px;
      --ease: cubic-bezier(.2,.8,.2,1);
      --shadow: 0 18px 50px rgba(0,0,0,.42);
      --shadow2: 0 12px 34px rgba(0,0,0,.30);

      --safeB: env(safe-area-inset-bottom, 0px);
      --safeT: env(safe-area-inset-top, 0px);
      --safeL: env(safe-area-inset-left, 0px);
      --safeR: env(safe-area-inset-right, 0px);
    }

    html[data-theme="dark"]{
      --bg:#070A12;
      --bg2:#050810;
      --panel: rgba(255,255,255,.03);
      --panel2: rgba(255,255,255,.02);
      --line: rgba(255,255,255,.10);
      --line2: rgba(255,255,255,.08);
      --text:#E9EDF7;
      --muted: rgba(233,237,247,.72);
      --muted2: rgba(233,237,247,.60);
      --headerBg: rgba(7,10,18,.72);
      --overlayBg: rgba(0,0,0,.55);
      --ctaBg: rgba(0,0,0,.28);
      --ctaLine: rgba(255,255,255,.12);
      --iconBg: rgba(212,175,55,.10);
      --iconLine: rgba(212,175,55,.25);
      --good: rgba(0,217,129,.95);
      --bad: rgba(255,90,103,.95);

      --logoGlow: 0 0 22px rgba(212,175,55,.14);
      --logoRing: rgba(255,255,255,.12);
      --logoBg: rgba(255,255,255,.03);

      --focus: rgba(245,213,122,.28);
    }

    html[data-theme="light"]{
      --bg:#F7F7FB;
      --bg2:#FFFFFF;
      --panel: rgba(10,14,26,.04);
      --panel2: rgba(10,14,26,.03);
      --line: rgba(10,14,26,.12);
      --line2: rgba(10,14,26,.08);
      --text:#0E1526;
      --muted: rgba(14,21,38,.68);
      --muted2: rgba(14,21,38,.56);
      --headerBg: rgba(255,255,255,.78);
      --overlayBg: rgba(0,0,0,.40);
      --ctaBg: rgba(255,255,255,.78);
      --ctaLine: rgba(10,14,26,.10);
      --iconBg: rgba(212,175,55,.16);
      --iconLine: rgba(212,175,55,.35);
      --good: rgba(0,140,90,.92);
      --bad: rgba(200,34,60,.90);

      --shadow: 0 16px 46px rgba(0,0,0,.12);
      --shadow2: 0 10px 26px rgba(0,0,0,.10);

      --logoGlow: 0 0 0 rgba(0,0,0,0);
      --logoRing: rgba(10,14,26,.10);
      --logoBg: rgba(255,255,255,.65);

      --focus: rgba(212,175,55,.26);
    }

    *{ box-sizing:border-box; -webkit-tap-highlight-color: transparent; }
    html{ scroll-behavior:smooth; }
    @media (prefers-reduced-motion: reduce){
      html{ scroll-behavior:auto; }
      *{ animation:none !important; transition:none !important; }
    }

    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";
      background:
        radial-gradient(900px 420px at 18% 6%, rgba(212,175,55,.10), transparent 60%),
        radial-gradient(900px 420px at 85% 10%, rgba(0,217,129,.06), transparent 62%),
        radial-gradient(900px 520px at 50% 110%, rgba(0,122,255,.06), transparent 58%),
        linear-gradient(180deg, var(--bg2), var(--bg));
      color: var(--text);
      overflow-x:hidden;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    a{ color: var(--text); text-decoration:none; }
    a:hover{ color: var(--gold); }

    .container{
      max-width: var(--max);
      margin: 0 auto;
      padding-left: max(16px, var(--safeL));
      padding-right: max(16px, var(--safeR));
    }

    .skip{
      position:absolute; left:-999px; top:10px;
      padding:10px 12px;
      border-radius: 12px;
      background: var(--gold);
      color:#111;
      font-weight: 950;
      z-index: 999;
    }
    .skip:focus{ left: 12px; outline: none; }

    :focus-visible{
      outline: 2px solid var(--focus);
      outline-offset: 3px;
      border-radius: 12px;
    }

    /* Header */
    header{
      position:sticky;
      top:0;
      z-index:50;
      background: var(--headerBg);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--line2);
    }
    .header-inner{ display:flex; align-items:center; gap:12px; padding: 12px 0; }
    .brand{ display:flex; align-items:center; gap:10px; min-width: 220px; }

    .logo-wrap{
      position:relative;
      width:44px; height:44px;
      border-radius: 14px;
      padding: 2px;
      background:
        radial-gradient(18px 18px at 25% 20%, rgba(245,213,122,.35), transparent 70%),
        radial-gradient(20px 20px at 85% 80%, rgba(212,175,55,.22), transparent 70%),
        linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.02));
      box-shadow: var(--logoGlow);
      border: 1px solid var(--logoRing);
      flex: 0 0 auto;
      isolation:isolate;
    }
    .logo-wrap::after{
      content:"";
      position:absolute;
      inset:-10px;
      background: radial-gradient(16px 16px at 50% 50%, rgba(212,175,55,.10), transparent 70%);
      filter: blur(12px);
      opacity:.8;
      pointer-events:none;
      z-index:-1;
    }
    .logo-wrap img{
      width:100%; height:100%;
      object-fit: cover;
      display:block;
      border-radius: 12px;
      border: 1px solid var(--line2);
      background: var(--logoBg);
    }
    .brand .btxt{ display:flex; flex-direction:column; line-height:1.05; gap:4px; min-width:0; }
    .brand .bname{ font-weight: 950; letter-spacing:-0.2px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
    .brand .bsub{ font-size:.86rem; color: var(--muted); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

    nav{ margin-left:auto; }
    nav ul{ display:flex; list-style:none; gap:18px; padding:0; margin:0; align-items:center; }
    .nav-link{ color: var(--text); opacity:.9; font-weight: 850; font-size: .95rem; position:relative; }
    .nav-link:hover{ color: var(--gold); opacity:1; }
    .nav-link.is-active{ color: var(--gold); opacity:1; }
    .nav-link.is-active::after{
      content:"";
      position:absolute;
      left:0; right:0;
      bottom:-12px;
      height:2px;
      background: rgba(212,175,55,.65);
      border-radius: 999px;
    }

    .header-actions{ display:flex; gap:10px; align-items:center; margin-left: 10px; }
    .icon-btn{
      width: 42px; height: 42px;
      border-radius: 12px;
      border: 1px solid var(--line);
      background: var(--panel);
      color: var(--text);
      display:inline-flex; align-items:center; justify-content:center;
      cursor:pointer;
      transition: transform .16s var(--ease), filter .16s var(--ease);
    }
    .icon-btn:hover{ transform: translateY(-1px); filter: brightness(1.05); }
    .menu-btn{
      display:none;
      border: 1px solid var(--line);
      background: var(--panel);
      color: var(--text);
      border-radius: 12px;
      padding: 10px 12px;
      cursor:pointer;
    }
    @media (max-width: 980px){
      nav{ display:none; }
      .menu-btn{ display:inline-flex; }
      .header-actions{ margin-left:auto; }
      body{ padding-bottom: calc(88px + var(--safeB)); }
      .brand{ min-width: 0; }
      .brand .bsub{ display:none; }
      .logo-wrap{ width:40px; height:40px; }
      .icon-btn{ width:40px; height:40px; }
    }

    /* Mobile sheet */
    .overlay{
      position:fixed; inset:0;
      background: var(--overlayBg);
      display:none;
      align-items:flex-end;
      z-index:80;
    }
    .overlay.open{ display:flex; }
    .sheet{
      width:100%;
      border-radius: 18px 18px 0 0;
      border: 1px solid var(--line);
      background: color-mix(in oklab, var(--bg2) 82%, #000 18%);
      box-shadow: var(--shadow);
      padding: 14px;
      padding-bottom: calc(14px + var(--safeB));
      max-height: calc(92vh - var(--safeT));
      overflow:auto;
    }
    .sheet-head{
      display:flex; align-items:center; justify-content:space-between;
      padding-bottom: 10px;
      border-bottom: 1px solid var(--line2);
      margin-bottom: 10px;
      gap: 10px;
    }
    .sheet a{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      padding: 14px 12px;
      border-radius: 14px;
      border: 1px solid var(--line2);
      background: var(--panel2);
      color: var(--text);
      margin-bottom: 10px;
      font-weight: 900;
    }
    .sheet-actions{ display:flex; gap:10px; flex-wrap:wrap; }
    .sheet-actions .btn{ flex:1; min-width: 0; }

    /* Buttons */
    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      border-radius: 14px;
      padding: 12px 16px;
      min-height: 46px;
      border: 1px solid var(--line);
      background: var(--panel);
      color: var(--text);
      cursor:pointer;
      font-weight: 950;
      transition: transform .16s var(--ease), filter .16s var(--ease), background .16s var(--ease);
      white-space: nowrap;
      user-select:none;
      text-decoration:none;
    }
    .btn:hover{ transform: translateY(-1px); filter: brightness(1.03); }
    .btn:active{ transform: translateY(0); }
    .btn.solid{ background: var(--gold); color:#111; border-color: color-mix(in oklab, var(--gold) 55%, #000 45%); }
    .btn.primary{ background: var(--panel2); border-color: var(--line); }
    .btn.ghost{ background: transparent; border-color: var(--line2); }
    .btn.small{ min-height: 40px; padding: 10px 12px; border-radius: 12px; font-weight: 900; }

    /* Hero */
    .page-wrap{ padding: 18px 0 0; }
    .hero{
      border-radius: var(--radius2);
      border: 1px solid var(--line);
      background: var(--panel2);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
      isolation:isolate;
    }
    .hero::before{
      content:"";
      position:absolute; inset:-2px;
      background:
        radial-gradient(380px 180px at 18% 0%, rgba(212,175,55,.20), transparent 60%),
        radial-gradient(420px 220px at 86% 12%, rgba(0,217,129,.12), transparent 65%),
        radial-gradient(520px 260px at 40% 105%, rgba(0,122,255,.10), transparent 62%);
      pointer-events:none;
      z-index:-1;
    }
    .hero-grid{
      display:grid;
      gap: 14px;
      padding: 16px;
      grid-template-columns: 1.1fr .9fr;
      align-items:start;
    }
    @media (max-width: 980px){ .hero-grid{ grid-template-columns: 1fr; } }

    .kicker{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; color: var(--muted); font-weight: 850; }
    .kicker .dot{ opacity:.65; }
    h1{
      margin: 6px 0 10px;
      font-size: clamp(2.0rem, 4vw, 2.9rem);
      line-height: 1.06;
      letter-spacing:-0.6px;
    }
    .gold{
      background: linear-gradient(180deg, var(--gold2), var(--gold));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }
    .lead{
      margin:0;
      color: var(--muted);
      font-size: 1.02rem;
      line-height: 1.55;
    }
    .hero-actions{ display:flex; gap:12px; flex-wrap:wrap; margin-top: 12px; }
    @media (max-width: 520px){ .hero-actions{ flex-direction:column; } .hero-actions .btn{ width:100%; } }

    /* hero media */
    .hero-media{
      border-radius: 14px;
      overflow:hidden;
      border: 1px solid var(--line);
      background: var(--panel);
      position:relative;
      min-height: 280px;
      isolation:isolate;
    }
    .hero-media img{
      width:100%;
      height: 280px;
      object-fit: cover;
      display:block;
      opacity:.94;
      transform: scale(1.01);
      transition: opacity .55s var(--ease), transform .9s var(--ease);
    }
    @media (max-width: 620px){ .hero-media img{ height: 240px; } }
    .hero-media.is-fading img{ opacity:.18; transform: scale(1.03); }
    .hero-media .cap{
      position:absolute; left:12px; right:12px; bottom:10px;
      padding: 10px;
      border-radius: 12px;
      border: 1px solid var(--ctaLine);
      background: var(--ctaBg);
      backdrop-filter: blur(10px);
    }
    .hero-tag{ display:flex; gap:8px; align-items:center; font-weight: 950; margin-bottom: 6px; }
    .hero-sub{ color: color-mix(in oklab, var(--text) 86%, transparent); font-size: .92rem; line-height: 1.35; }
    .hero-progress{ position:absolute; left:0; right:0; bottom:0; height: 3px; background: color-mix(in oklab, var(--text) 10%, transparent); overflow:hidden; }
    .hero-bar{ height:100%; width: 0%; background: rgba(212,175,55,.75); transition: width 5s linear; }
    .hero-bar.run{ width: 100%; }

    /* Switcher */
    .switcher{
      margin-top: 14px;
      border-top: 1px solid var(--line2);
      padding-top: 14px;
      display:flex;
      gap: 10px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:space-between;
    }
    .seg{
      display:flex; gap:6px;
      padding: 6px;
      border-radius: 16px;
      border: 1px solid var(--line);
      background: var(--panel);
    }
    .seg button{
      border: 0;
      background: transparent;
      color: var(--muted);
      font-weight: 950;
      padding: 10px 12px;
      border-radius: 12px;
      cursor:pointer;
      display:flex;
      gap:10px;
      align-items:center;
      transition: background .16s var(--ease), color .16s var(--ease), transform .16s var(--ease);
      white-space:nowrap;
    }
    .seg button:hover{ transform: translateY(-1px); color: var(--text); }
    .seg button.is-active{
      background: color-mix(in oklab, var(--gold) 18%, transparent);
      color: var(--text);
      border: 1px solid color-mix(in oklab, var(--gold) 30%, var(--line) 70%);
    }
    .seg button i{ color: var(--gold); }
    .switch-note{ color: var(--muted); font-weight: 850; font-size: .92rem; }
    .switch-note b{ color: var(--text); }

    /* Forms */
    .form-wrap{ margin-top: 10px; }
    .form{
      margin-top: 12px;
      display:none;
      border-radius: 16px;
      border: 1px solid var(--line2);
      background: var(--panel);
      padding: 12px;
    }
    .form.is-active{ display:block; }

    .form-grid{
      display:grid;
      gap: 10px;
      grid-template-columns: repeat(8, minmax(0, 1fr));
    }
    @media (max-width: 980px){ .form-grid{ grid-template-columns: 1fr 1fr; } }
    @media (max-width: 520px){ .form-grid{ grid-template-columns: 1fr; } }

    .field{ display:flex; flex-direction:column; gap:6px; }
    label{ font-size: .78rem; letter-spacing: .12em; text-transform: uppercase; color: var(--muted2); }
    input, select, textarea{
      border-radius: 14px;
      border: 1px solid var(--line);
      background: var(--panel2);
      color: var(--text);
      padding: 12px;
      min-height: 46px;
      outline:none;
      font-family: inherit;
      font-size: 16px; /* prevent iOS zoom */
    }
    textarea{ min-height: 92px; resize: vertical; }
    .form-actions{ margin-top: 12px; display:flex; gap:12px; align-items:center; flex-wrap:wrap; }
    @media (max-width: 520px){ .form-actions{ flex-direction:column; } .form-actions .btn{ width:100%; } }

    /* Sections */
    .section{ padding: 18px 0; }
    .section-head{
      display:flex; align-items:flex-end; justify-content:space-between;
      gap:12px; margin-bottom: 12px; flex-wrap:wrap;
    }
    h2{ margin:0; font-size: 1.35rem; letter-spacing:-0.3px; }
    .subhead{ color: var(--muted); margin: 4px 0 0; font-size: .98rem; line-height: 1.4; }

    /* Featured grid */
    .grid{ display:grid; gap: 14px; grid-template-columns: repeat(3, minmax(0, 1fr)); }
    @media (max-width: 980px){ .grid{ grid-template-columns: repeat(2, minmax(0, 1fr)); } }
    @media (max-width: 620px){ .grid{ grid-template-columns: 1fr; } }

    .card{
      border-radius: var(--radius);
      border: 1px solid var(--line);
      background: var(--panel);
      overflow:hidden;
      box-shadow: var(--shadow2);
      transition: transform .18s var(--ease), border-color .18s var(--ease), background .18s var(--ease), filter .18s var(--ease);
    }
    .card:hover{
      transform: translateY(-2px);
      border-color: color-mix(in oklab, var(--gold) 30%, var(--line) 70%);
      background: color-mix(in oklab, var(--panel) 94%, white 6%);
      filter: brightness(1.02);
    }

    /* featured media carousel */
    .media{
      width: calc(100% - 24px);
      height: 190px;
      border-radius: 14px;
      overflow:hidden;
      border: 1px solid var(--line2);
      background: color-mix(in oklab, var(--bg2) 60%, #000 40%);
      margin: 12px 12px 0;
      position:relative;
      isolation:isolate;
      user-select:none;
    }
    .media img{
      width:100%; height:100%;
      object-fit:cover;
      display:block;
      transform: scale(1.01);
      opacity:.95;
      transition: opacity .45s var(--ease), transform .7s var(--ease);
    }
    .media.is-fading img{ opacity:.18; transform: scale(1.03); }
    .media::after{
      content:"";
      position:absolute; inset:0;
      background: linear-gradient(to top, rgba(0,0,0,.32), rgba(0,0,0,0) 55%);
      pointer-events:none;
      z-index:1;
    }
    .media-nav{
      position:absolute; inset:0;
      display:flex; align-items:center; justify-content:space-between;
      padding: 0 10px;
      pointer-events:none;
      z-index:2;
    }
    .media-btn{
      width:34px; height:34px; border-radius:12px;
      background: rgba(0,0,0,0.35);
      border: 1px solid rgba(255,255,255,0.14);
      display:grid; place-items:center;
      color:#fff;
      pointer-events:auto;
      cursor:pointer;
      backdrop-filter: blur(6px);
      transition: transform .15s var(--ease), background .15s var(--ease), border-color .15s var(--ease);
    }
    .media-btn:hover{
      background: rgba(0,0,0,0.55);
      border-color: rgba(212,175,55,.30);
      transform: translateY(-1px);
    }
    .media-dots{
      position:absolute; left:0; right:0; bottom:10px;
      display:flex; justify-content:center; gap:6px;
      pointer-events:none;
      z-index:2;
    }
    .media-dot{
      width:7px; height:7px; border-radius:999px;
      background: rgba(255,255,255,0.35);
      border: 1px solid rgba(255,255,255,0.25);
    }
    .media-dot.active{ background: rgba(255,255,255,0.92); }

    .card-body{ padding: 12px; }
    .title{
      font-weight: 950;
      margin: 2px 0 8px;
      letter-spacing:-0.2px;
      display:flex;
      gap:8px;
      align-items:center;
      flex-wrap:wrap;
    }
    .desc{
      margin:0;
      color: var(--muted);
      line-height:1.55;
      font-size: .96rem;
      display:-webkit-box;
      -webkit-line-clamp: 3;
      -webkit-box-orient: vertical;
      overflow:hidden;
    }
    .price{ margin-top:10px; font-weight: 950; color: var(--gold2); letter-spacing: .1px; }
    .meta-row{ display:flex; gap:8px; flex-wrap:wrap; margin-top: 10px; }
    .chip{
      display:inline-flex; gap:8px; align-items:center;
      padding: 7px 10px;
      border-radius: 999px;
      border: 1px solid var(--line2);
      background: var(--panel2);
      color: color-mix(in oklab, var(--text) 82%, transparent);
      font-weight: 850;
      font-size: .84rem;
    }

    .more-row{ display:flex; justify-content:flex-end; margin-top: 8px; }
    .link-btn{
      border: 1px solid var(--line2);
      background: transparent;
      color: color-mix(in oklab, var(--text) 90%, transparent);
      font-weight: 950;
      border-radius: 12px;
      padding: 8px 10px;
      cursor:pointer;
      transition: transform .16s var(--ease), filter .16s var(--ease), border-color .16s var(--ease);
      display:inline-flex;
      gap:8px;
      align-items:center;
    }
    .link-btn:hover{
      transform: translateY(-1px);
      filter: brightness(1.04);
      border-color: color-mix(in oklab, var(--gold) 30%, var(--line2) 70%);
      color: var(--gold2);
    }

    .actions-row{ margin-top:12px; display:flex; gap:10px; flex-wrap:wrap; }
    .actions-row .btn{ flex: 1; }
    @media (max-width: 520px){ .actions-row .btn{ width:100%; flex:unset; } }

    .star{
      display:inline-flex; gap:6px; align-items:center;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid rgba(212,175,55,.28);
      background: rgba(212,175,55,.10);
      color: var(--gold2);
      font-weight: 900;
      font-size: .78rem;
      letter-spacing: .02em;
    }

    .notice{
      border-radius: 16px;
      padding: 12px;
      border: 1px solid var(--line);
      background: var(--panel2);
      color: var(--muted);
    }
    .notice strong{ color: var(--text); }

    /* Modal (synced style) */
    .modalOverlay{
      position:fixed; inset:0;
      background: rgba(0,0,0,.56);
      display:none;
      align-items:flex-end;
      justify-content:center;
      z-index: 140;
      padding: 14px;
    }
    .modalOverlay.open{ display:flex; }
    .modal{
      width: min(860px, 100%);
      border-radius: 18px;
      border: 1px solid var(--line);
      background: color-mix(in oklab, var(--bg2) 86%, #000 14%);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .modalHead{
      display:flex; gap:10px; align-items:flex-start; justify-content:space-between;
      padding: 12px 12px;
      border-bottom: 1px solid var(--line2);
      background: color-mix(in oklab, var(--panel2) 65%, transparent);
    }
    .modalTitle{ font-weight: 950; letter-spacing:-0.2px; line-height:1.15; margin:0; font-size: 1.08rem; }
    .modalMeta{ margin-top: 8px; display:flex; gap:8px; flex-wrap:wrap; }
    .modalBody{ padding: 12px; max-height: min(65vh, 520px); overflow:auto; }
    .modalDesc{
      white-space: pre-wrap;
      line-height: 1.65;
      color: color-mix(in oklab, var(--text) 92%, transparent);
      font-size: 1.0rem;
      border-radius: 14px;
      border: 1px solid var(--line2);
      background: var(--panel2);
      padding: 12px;
      margin:0;
    }
    .modalFoot{
      padding: 12px;
      border-top: 1px solid var(--line2);
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      justify-content:space-between;
      background: color-mix(in oklab, var(--panel2) 65%, transparent);
    }
    .modalFoot .left, .modalFoot .right{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; }

    .copy-btn{
      border: 1px dashed var(--line);
      background: transparent;
      color: var(--muted);
      font-weight: 950;
      border-radius: 12px;
      padding: 10px 12px;
      cursor:pointer;
    }
    .copy-btn:hover{ color: var(--gold2); border-color: rgba(212,175,55,.35); }

    /* Footer (same family as other pages) */
    footer{
      margin-top: 18px;
      border-top: 1px solid var(--line);
      background: color-mix(in oklab, var(--bg2) 80%, #000 20%);
    }
    .footer-cta{
      margin-top: 14px;
      border-radius: 20px;
      border: 1px solid var(--line);
      background:
        radial-gradient(900px 420px at 15% 0%, rgba(212,175,55,.16), transparent 55%),
        radial-gradient(900px 420px at 85% 20%, rgba(0,217,129,.10), transparent 60%),
        var(--panel2);
      box-shadow: var(--shadow);
      padding: 14px;
      display:flex; gap:12px;
      align-items:center; justify-content:space-between;
      flex-wrap:wrap;
    }
    .footer-cta h3{ margin:0; font-size: 1.12rem; letter-spacing:-0.2px; }
    .footer-cta p{ margin: 6px 0 0; color: var(--muted); line-height: 1.4; }

    .footer-grid{
      display:grid;
      gap: 16px;
      padding: 16px 0;
      grid-template-columns: 1.35fr 1fr 1fr;
    }
    @media (max-width: 980px){ .footer-grid{ grid-template-columns: 1fr; } }

    .footer-col-title{ font-weight: 950; margin: 0 0 10px; letter-spacing: -0.2px; }
    .footer-links a{ display:block; padding: 6px 0; color: color-mix(in oklab, var(--text) 84%, transparent); font-weight: 600; }
    .footer-links a:hover{ color: var(--gold); }

    .contact-stack{ display:grid; gap: 10px; }
    .contact-chip{
      display:flex; gap:10px; align-items:flex-start;
      padding: 10px 12px; border-radius: 14px;
      border: 1px solid var(--line); background: var(--panel2);
    }
    .contact-chip i{ width: 18px; margin-top: 2px; color: var(--gold); opacity:.95; }
    .contact-chip .txt{ color: color-mix(in oklab, var(--text) 92%, transparent); font-weight: 900; }
    .contact-chip .sub{ color: var(--muted); font-size: .9rem; margin-top: 2px; }

    .social{ display:flex; gap:10px; flex-wrap:wrap; margin-top: 10px; }
    .social a{
      width: 42px; height: 42px;
      display:inline-flex; align-items:center; justify-content:center;
      border-radius: 12px; border: 1px solid var(--line);
      background: var(--panel2); color: var(--text);
    }
    .social a:hover{
      color:#111; background: var(--gold);
      border-color: color-mix(in oklab, var(--gold) 55%, #000 45%);
    }

    .footer-bottom{
      border-top: 1px solid var(--line2);
      padding: 12px 0 16px;
      display:flex; align-items:center; justify-content:space-between;
      gap:10px; flex-wrap:wrap;
      color: var(--muted2);
      font-size: .9rem;
    }

    /* Floating WhatsApp */
    .wa-float{
      position: fixed;
      right: calc(16px + var(--safeR));
      bottom: calc(16px + var(--safeB));
      z-index: 90;
      display:flex;
      gap:10px;
      align-items:center;
    }
    .wa-pill{
      display:none;
      padding: 10px 12px;
      border-radius: 999px;
      border: 1px solid var(--line);
      background: var(--panel);
      color: var(--text);
      font-weight: 950;
      box-shadow: var(--shadow2);
      backdrop-filter: blur(10px);
      cursor:pointer;
    }
    .wa-btn{
      width: 52px;
      height: 52px;
      border-radius: 18px;
      border: 1px solid color-mix(in oklab, var(--gold) 40%, var(--line) 60%);
      background: linear-gradient(180deg, var(--gold2), var(--gold));
      color: #111;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      box-shadow: var(--shadow2);
      cursor:pointer;
      transition: transform .16s var(--ease), filter .16s var(--ease);
    }
    .wa-btn:hover{ transform: translateY(-2px); filter: brightness(1.02); }
    .wa-btn i{ font-size: 20px; }
    @media (min-width: 980px){ .wa-pill{ display:inline-flex; } }

    /* Small spacing polish */
    @media (max-width: 620px){
      .hero-grid{ padding: 12px; }
      h1{ font-size: clamp(1.72rem, 7vw, 2.25rem); line-height: 1.05; }
      .lead{ font-size: .98rem; }
    }
  </style>
</head>

<body>
  <a class="skip" href="#main">Skip to content</a>

  <!-- Mobile nav -->
  <div class="overlay" id="overlay" aria-hidden="true">
    <div class="sheet" role="dialog" aria-label="Menu">
      <div class="sheet-head">
        <div class="brand" style="min-width:0">
          <div class="logo-wrap" aria-hidden="true">
            <img src="assets/images/larmah-favicon.jpeg" alt="Larmah Enterprise" />
          </div>
          <div class="btxt">
            <div class="bname">Larmah Enterprise</div>
            <div class="bsub" style="display:block">Real Estate • Logistics</div>
          </div>
        </div>
        <button class="icon-btn" type="button" onclick="toggleMenu(false)" aria-label="Close menu">
          <i class="fa-solid fa-xmark"></i>
        </button>
      </div>

      <a href="#home" onclick="toggleMenu(false)"><span><i class="fa-solid fa-house" style="color:var(--gold)"></i> Home</span><i class="fa-solid fa-chevron-right" style="opacity:.6"></i></a>
      <a href="#about" onclick="toggleMenu(false)"><span><i class="fa-solid fa-circle-info" style="color:var(--gold)"></i> About</span><i class="fa-solid fa-chevron-right" style="opacity:.6"></i></a>
      <a href="real-estate.html"><span><i class="fa-solid fa-building" style="color:var(--gold)"></i> Real Estate</span><i class="fa-solid fa-chevron-right" style="opacity:.6"></i></a>
      <a href="logistics.html"><span><i class="fa-solid fa-truck-fast" style="color:var(--gold)"></i> Logistics</span><i class="fa-solid fa-chevron-right" style="opacity:.6"></i></a>
      <a href="premium.html"><span><i class="fa-solid fa-crown" style="color:var(--gold)"></i> Premium</span><i class="fa-solid fa-chevron-right" style="opacity:.6"></i></a>

      <div class="sheet-actions">
        <button class="btn primary" type="button" onclick="toggleTheme()">
          <i class="fa-solid fa-circle-half-stroke"></i> Toggle Theme
        </button>
        <button class="btn solid" type="button" onclick="openWA(buildMsg('Support', { Message:'Hello Larmah, I need help.' }))">
          <i class="fa-brands fa-whatsapp"></i> WhatsApp
        </button>
      </div>
    </div>
  </div>

  <header>
    <div class="container header-inner">
      <a class="brand" href="#home" aria-label="Larmah Home">
        <div class="logo-wrap" aria-hidden="true">
          <img src="assets/images/larmah-favicon.jpeg" alt="Larmah Enterprise" />
        </div>
        <div class="btxt">
          <div class="bname">Larmah Enterprise</div>
          <div class="bsub">Real Estate • Logistics</div>
        </div>
      </a>

      <nav aria-label="Primary navigation">
        <ul>
          <li><a class="nav-link is-active" id="navHome" href="#home">Home</a></li>
          <li><a class="nav-link" id="navAbout" href="#about">About</a></li>
          <li><a class="nav-link" href="real-estate.html">Real Estate</a></li>
          <li><a class="nav-link" href="logistics.html">Logistics</a></li>
          <li><a class="nav-link" href="premium.html">Premium</a></li>
        </ul>
      </nav>

      <div class="header-actions">
        <button class="icon-btn" type="button" onclick="toggleTheme()" aria-label="Toggle theme" title="Toggle theme">
          <i class="fa-solid fa-circle-half-stroke"></i>
        </button>
        <button class="menu-btn" type="button" onclick="toggleMenu(true)" aria-label="Open menu">
          <i class="fa-solid fa-bars"></i>
        </button>
      </div>
    </div>
  </header>

  <main id="main" class="container page-wrap" tabindex="-1">
    <!-- HOME -->
    <section id="home" class="hero" aria-label="Home hero">
      <div class="hero-grid">
        <div>
          <div class="kicker">
            <span><i class="fa-solid fa-shield-halved" style="color:var(--gold)"></i> Trust-first</span><span class="dot">•</span>
            <span><i class="fa-solid fa-circle-check" style="color:var(--gold)"></i> Verified</span><span class="dot">•</span>
            <span><i class="fa-brands fa-whatsapp" style="color:var(--good)"></i> WhatsApp-first</span>
          </div>

          <h1>Verified <span class="gold">stays</span> & trusted <span class="gold">movement</span>.</h1>
          <p class="lead">Browse featured listings, then request a booking or quote in one clean flow.</p>

          <div class="hero-actions">
            <a class="btn solid" href="#featured"><i class="fa-solid fa-sparkles"></i> Browse Featured</a>
            <a class="btn primary" href="real-estate.html"><i class="fa-solid fa-building"></i> Real Estate</a>
            <a class="btn primary" href="logistics.html"><i class="fa-solid fa-truck-fast"></i> Logistics</a>
          </div>

          <div class="switcher" id="quick">
            <div class="seg" role="tablist" aria-label="Quick request">
              <button type="button" class="is-active" id="tabRE" role="tab" aria-selected="true" onclick="setMode('realestate')">
                <i class="fa-solid fa-house"></i> Real Estate
              </button>
              <button type="button" id="tabLG" role="tab" aria-selected="false" onclick="setMode('logistics')">
                <i class="fa-solid fa-truck-fast"></i> Logistics
              </button>
            </div>
            <div class="switch-note">Tip: <b>budget + location</b> = faster matching.</div>
          </div>

          <div class="form-wrap">
            <!-- Real Estate quick form -->
            <div class="form is-active" id="formRE" role="tabpanel" aria-labelledby="tabRE">
              <div class="form-grid">
                <div class="field" style="grid-column: span 2;">
                  <label for="re_in">Check-in</label>
                  <input id="re_in" type="date" />
                </div>
                <div class="field" style="grid-column: span 2;">
                  <label for="re_out">Check-out</label>
                  <input id="re_out" type="date" />
                </div>
                <div class="field" style="grid-column: span 2;">
                  <label for="re_loc">Location</label>
                  <select id="re_loc">
                    <option value="Any" selected>Any</option>
                    <option value="Ikoyi">Ikoyi</option>
                    <option value="Lekki">Lekki</option>
                    <option value="Victoria Island">Victoria Island</option>
                    <option value="Yaba">Yaba</option>
                    <option value="Mainland">Mainland</option>
                    <option value="Abuja">Abuja</option>
                  </select>
                </div>
                <div class="field" style="grid-column: span 2;">
                  <label for="re_budget">Budget (optional)</label>
                  <input id="re_budget" placeholder="e.g., ₦120k/night" />
                </div>
                <div class="field" style="grid-column: span 8;">
                  <label for="re_notes">Notes (optional)</label>
                  <textarea id="re_notes" placeholder="Any preference? (pool, balcony, generator...)"></textarea>
                </div>
              </div>
              <div class="form-actions">
                <button class="btn solid" type="button" onclick="submitQuickRE()">
                  <i class="fa-brands fa-whatsapp"></i> Request Availability
                </button>
                <a class="btn primary" href="real-estate.html"><i class="fa-solid fa-arrow-right"></i> View All Listings</a>
              </div>
            </div>

            <!-- Logistics quick form -->
            <div class="form" id="formLG" role="tabpanel" aria-labelledby="tabLG">
              <div class="form-grid">
                <div class="field" style="grid-column: span 4;">
                  <label for="lg_pick">Pickup</label>
                  <input id="lg_pick" placeholder="e.g., Lekki Phase 1" />
                </div>
                <div class="field" style="grid-column: span 4;">
                  <label for="lg_drop">Drop-off</label>
                  <input id="lg_drop" placeholder="e.g., Victoria Island" />
                </div>
                <div class="field" style="grid-column: span 2;">
                  <label for="lg_date">Date</label>
                  <input id="lg_date" type="date" />
                </div>
                <div class="field" style="grid-column: span 2;">
                  <label for="lg_vehicle">Vehicle</label>
                  <select id="lg_vehicle">
                    <option value="Dispatch Bike" selected>Dispatch Bike</option>
                    <option value="Car">Car</option>
                    <option value="Van">Van</option>
                    <option value="Mini Truck">Mini Truck</option>
                    <option value="Truck / Haulage">Truck / Haulage</option>
                  </select>
                </div>
                <div class="field" style="grid-column: span 4;">
                  <label for="lg_notes">Notes (optional)</label>
                  <input id="lg_notes" placeholder="Size/weight, urgency, landmarks..." />
                </div>
              </div>
              <div class="form-actions">
                <button class="btn solid" type="button" onclick="submitQuickLG()">
                  <i class="fa-brands fa-whatsapp"></i> Request Quote
                </button>
                <a class="btn primary" href="logistics.html"><i class="fa-solid fa-arrow-right"></i> View All Services</a>
              </div>
            </div>
          </div>
        </div>

        <aside class="hero-media" id="heroMedia" aria-label="Showcase carousel">
          <img id="heroImg" src="https://source.unsplash.com/1600x1000/?luxury,apartment,interior&sig=611" alt="Showcase" decoding="async" fetchpriority="high">
          <div class="cap">
            <div class="hero-tag" id="heroTag"><i class="fa-solid fa-house" style="color:var(--gold)"></i> Real Estate</div>
            <div class="hero-sub" id="heroSub">Verified listings and premium stays.</div>
          </div>
          <div class="hero-progress" aria-hidden="true"><div class="hero-bar" id="heroBar"></div></div>
        </aside>
      </div>
    </section>

    <!-- Featured -->
    <section class="section" id="featured" aria-label="Featured listings">
      <div class="section-head">
        <div>
          <h2>Featured</h2>
          <p class="subhead">Featured items are pulled from your DB (featured=true). View more for full details.</p>
        </div>
        <button class="btn small solid" type="button"
          onclick="openWA(buildMsg('Support', { Message:'Hello Larmah, I need help.' }))">
          <i class="fa-brands fa-whatsapp"></i> WhatsApp
        </button>
      </div>

      <div id="feat_mount">
        <div class="notice">Loading featured items…</div>
      </div>
    </section>

    <!-- About -->
    <section class="section" id="about" aria-label="About">
      <div class="section-head">
        <div>
          <h2>About</h2>
          <p class="subhead">Two pillars: verified real estate + dependable logistics, coordinated on WhatsApp.</p>
        </div>
        <a class="btn small primary" href="premium.html"><i class="fa-solid fa-crown"></i> Premium</a>
      </div>

      <div class="notice">
        <strong>Larmah Enterprise</strong> helps clients book verified stays and coordinate trusted movement across Nigeria.
        We keep it clean: clear confirmation, clean references, and fast support in one WhatsApp thread.
      </div>

      <div style="margin-top:12px; display:flex; gap:10px; flex-wrap:wrap;">
        <a class="btn primary" href="real-estate.html"><i class="fa-solid fa-building"></i> Real Estate Page</a>
        <a class="btn primary" href="logistics.html"><i class="fa-solid fa-truck-fast"></i> Logistics Page</a>
        <button class="btn solid" type="button"
          onclick="openWA(buildMsg('Business Enquiry', { Message:'Hello Larmah, I have a business enquiry.' }))">
          <i class="fa-brands fa-whatsapp"></i> Business Chat
        </button>
      </div>
    </section>
  </main>

  <!-- ✅ Featured View More Modal (synced with other pages) -->
  <div class="modalOverlay" id="descOverlay" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-label="Item details">
      <div class="modalHead">
        <div style="min-width:0;">
          <h3 class="modalTitle" id="descTitle">Item</h3>
          <div class="modalMeta" id="descMeta"></div>
        </div>
        <button class="icon-btn" type="button" onclick="closeDescModal()" aria-label="Close">
          <i class="fa-solid fa-xmark"></i>
        </button>
      </div>

      <div class="modalBody">
        <p class="modalDesc" id="descBody"></p>
      </div>

      <div class="modalFoot">
        <div class="left">
          <button class="copy-btn" type="button" onclick="copyDescRef()">
            <i class="fa-regular fa-copy"></i> Copy Ref
          </button>
        </div>
        <div class="right">
          <button class="btn primary" type="button" onclick="closeDescModal()">
            <i class="fa-solid fa-check"></i> Done
          </button>
          <button class="btn solid" type="button" onclick="descModalEnquire()">
            <i class="fa-brands fa-whatsapp"></i> Enquire
          </button>
          <a class="btn primary" id="descGoPage" href="real-estate.html">
            <i class="fa-solid fa-arrow-right"></i> Open Page
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer>
    <div class="container">
      <div class="footer-cta">
        <div>
          <h3>Verified stays + trusted movement — in one WhatsApp thread.</h3>
          <p>Confirm availability, request a quote, and coordinate logistics — fast.</p>
        </div>
        <div style="display:flex; gap:10px; flex-wrap:wrap;">
          <button class="btn solid" type="button" onclick="openWA(buildMsg('Support', { Message:'Hello Larmah, I need help.' }))">
            <i class="fa-brands fa-whatsapp"></i> WhatsApp
          </button>
          <a class="btn primary" href="premium.html"><i class="fa-solid fa-crown"></i> Premium</a>
        </div>
      </div>

      <div class="footer-grid">
        <div>
          <div class="brand" style="gap:12px">
            <div class="logo-wrap" aria-hidden="true">
              <img src="assets/images/larmah-favicon.jpeg" alt="Larmah Enterprise" />
            </div>
            <div class="btxt">
              <div class="bname">Larmah Enterprise</div>
              <div class="bsub">Connecting People, Business & Possibilities • RC: 9127113</div>
            </div>
          </div>

          <div class="social" aria-label="Social links">
            <a href="https://instagram.com/hey_larmah" aria-label="Instagram" title="Instagram"><i class="fa-brands fa-instagram"></i></a>
            <a href="https://x.com/heylarmah_tech" aria-label="X" title="X"><i class="fa-brands fa-x-twitter"></i></a>
            <a href="https://t.me/heylarmah_tech" aria-label="Telegram" title="Telegram"><i class="fa-brands fa-telegram"></i></a>
            <a href="https://youtube.com/@heylarmah" aria-label="YouTube" title="YouTube"><i class="fa-brands fa-youtube"></i></a>
          </div>
        </div>

        <div>
          <div class="footer-col-title">Quick Links</div>
          <div class="footer-links">
            <a href="#home">Home</a>
            <a href="#about">About</a>
            <a href="real-estate.html">Real Estate</a>
            <a href="logistics.html">Logistics</a>
            <a href="premium.html">Premium</a>
          </div>
        </div>

        <div>
          <div class="footer-col-title">Contact</div>

          <div class="contact-stack">
            <div class="contact-chip">
              <i class="fa-brands fa-whatsapp"></i>
              <div>
                <div class="txt">+234 706 308 0605</div>
                <div class="sub">WhatsApp-first support</div>
              </div>
            </div>

            <div class="contact-chip">
              <i class="fa-regular fa-envelope"></i>
              <div>
                <div class="txt"><a href="mailto:business@heylarmah.tech">business@heylarmah.tech</a></div>
                <div class="sub">Business enquiries</div>
              </div>
            </div>

            <div class="contact-chip">
              <i class="fa-solid fa-location-dot"></i>
              <div>
                <div class="txt">Lagos, Nigeria</div>
                <div class="sub">Serving Nigeria nationwide</div>
              </div>
            </div>
          </div>

          <div style="margin-top:12px; display:flex; gap:10px; flex-wrap:wrap;">
            <button class="btn small solid" type="button" onclick="openWA(buildMsg('Support', { Message:'Hello Larmah, I need help.' }))">
              <i class="fa-brands fa-whatsapp"></i> Chat Now
            </button>
            <a class="btn small primary" href="logistics.html"><i class="fa-solid fa-truck-fast"></i> Book Dispatch</a>
          </div>
        </div>
      </div>

      <div class="footer-bottom">
        <div>© <span id="year"></span> Larmah Enterprise. All rights reserved.</div>
      </div>
    </div>
  </footer>

  <!-- Floating WhatsApp -->
  <div class="wa-float" aria-label="Floating WhatsApp support">
    <button class="wa-pill" type="button" onclick="openWA(buildMsg('Support', { Message:'Hello Larmah, I need help.' }))">
      WhatsApp Support
    </button>
    <button class="wa-btn" type="button" aria-label="Chat on WhatsApp"
      onclick="openWA(buildMsg('Support', { Message:'Hello Larmah, I need help.' }))">
      <i class="fa-brands fa-whatsapp"></i>
    </button>
  </div>

  <script>
    // ===== basics
    document.getElementById("year").textContent = new Date().getFullYear();
    const reduceMotion = window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches;
    const esc = (s) => (s ?? "").toString().replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#039;'}[m]));

    function buildMsg(title, data){
      if(window.LARMAH?.buildMessage) return window.LARMAH.buildMessage(title, data);
      const lines = [title, ""];
      for(const [k,v] of Object.entries(data || {})){
        const val = (v ?? "").toString().trim();
        if(val) lines.push(`${k}: ${val}`);
      }
      return lines.join("\n");
    }
    function openWA(text){
      if(window.LARMAH?.openWhatsApp) return window.LARMAH.openWhatsApp(text);
      const phone = "2347063080605";
      window.open(`https://wa.me/${phone}?text=${encodeURIComponent(text)}`, "_blank", "noopener,noreferrer");
    }

    // ===== theme (sync)
    const THEME_KEY = "larmah_theme_v6";
    function setTheme(theme){
      document.documentElement.setAttribute("data-theme", theme);
      try{ localStorage.setItem(THEME_KEY, theme); }catch{}
      const metaTheme = document.querySelector('meta[name="theme-color"]');
      if(metaTheme) metaTheme.setAttribute("content", theme === "light" ? "#F7F7FB" : "#070A12");
    }
    function toggleTheme(){
      if(window.LARMAH?.toggleTheme) return window.LARMAH.toggleTheme();
      const cur = document.documentElement.getAttribute("data-theme") || "dark";
      setTheme(cur === "dark" ? "light" : "dark");
    }
    (function initTheme(){
      try{
        const saved = localStorage.getItem(THEME_KEY);
        if(saved === "light" || saved === "dark"){ setTheme(saved); return; }
      }catch{}
      const prefersLight = window.matchMedia && window.matchMedia("(prefers-color-scheme: light)").matches;
      setTheme(prefersLight ? "light" : "dark");
    })();

    // ===== mobile menu
    const overlay = document.getElementById("overlay");
    function toggleMenu(open){
      overlay.classList.toggle("open", !!open);
      overlay.setAttribute("aria-hidden", open ? "false" : "true");
    }
    overlay.addEventListener("click", (e) => { if(e.target === overlay) toggleMenu(false); });

    // ===== section nav active (home/about)
    function syncNav(){
      const h = (location.hash || "#home").toLowerCase();
      document.getElementById("navHome")?.classList.toggle("is-active", h === "#home" || h === "" || h === "#");
      document.getElementById("navAbout")?.classList.toggle("is-active", h === "#about");
    }
    window.addEventListener("hashchange", syncNav);
    document.addEventListener("DOMContentLoaded", syncNav);

    // ===== hero slideshow (less noisy)
    const heroMedia = document.getElementById("heroMedia");
    const heroImg = document.getElementById("heroImg");
    const heroTag = document.getElementById("heroTag");
    const heroSub = document.getElementById("heroSub");
    const heroBar = document.getElementById("heroBar");

    const HERO_SLIDES = [
      { img:"https://source.unsplash.com/1600x1000/?luxury,apartment,interior&sig=611", icon:"fa-house", label:"Real Estate", sub:"Verified listings and premium stays." },
      { img:"https://source.unsplash.com/1600x1000/?real-estate,lagos,building&sig=612", icon:"fa-building", label:"Verified Listings", sub:"Trust-first sourcing with clear confirmations." },
      { img:"https://source.unsplash.com/1600x1000/?logistics,delivery,truck&sig=710", icon:"fa-truck-fast", label:"Logistics", sub:"Dispatch, pickups and coordination." },
      { img:"https://source.unsplash.com/1600x1000/?cargo,truck,highway&sig=903", icon:"fa-boxes-stacked", label:"Freight Support", sub:"Movement support for larger loads." }
    ];
    let heroIdx = 0;

    function runHeroProgress(){
      if(!heroBar) return;
      heroBar.classList.remove("run");
      void heroBar.offsetWidth;
      heroBar.classList.add("run");
    }
    function setHero(i){
      const s = HERO_SLIDES[i % HERO_SLIDES.length];
      if(!heroMedia || !heroImg || !heroTag || !heroSub) return;
      heroMedia.classList.add("is-fading");
      runHeroProgress();
      setTimeout(() => {
        heroImg.src = s.img;
        heroImg.alt = s.label;
        heroTag.innerHTML = `<i class="fa-solid ${s.icon}" style="color:var(--gold)"></i> ${esc(s.label)}`;
        heroSub.textContent = s.sub;
        setTimeout(() => heroMedia.classList.remove("is-fading"), 120);
      }, 220);
    }
    if(!reduceMotion){
      setHero(0);
      setInterval(() => { heroIdx = (heroIdx + 1) % HERO_SLIDES.length; setHero(heroIdx); }, 5000);
    } else setHero(0);

    // ===== quick mode
    const tabRE = document.getElementById("tabRE");
    const tabLG = document.getElementById("tabLG");
    const formRE = document.getElementById("formRE");
    const formLG = document.getElementById("formLG");

    function setMode(mode){
      const isLog = mode === "logistics";
      tabRE.classList.toggle("is-active", !isLog);
      tabLG.classList.toggle("is-active", isLog);
      tabRE.setAttribute("aria-selected", !isLog ? "true" : "false");
      tabLG.setAttribute("aria-selected", isLog ? "true" : "false");
      formRE.classList.toggle("is-active", !isLog);
      formLG.classList.toggle("is-active", isLog);
    }
    window.setMode = setMode;

    // date mins
    function toISODate(d){
      const yyyy = d.getFullYear();
      const mm = String(d.getMonth()+1).padStart(2,"0");
      const dd = String(d.getDate()).padStart(2,"0");
      return `${yyyy}-${mm}-${dd}`;
    }
    const todayISO = toISODate(new Date());
    document.getElementById("re_in")?.setAttribute("min", todayISO);
    document.getElementById("re_out")?.setAttribute("min", todayISO);
    document.getElementById("lg_date")?.setAttribute("min", todayISO);

    // submit quick WA
    function submitQuickRE(){
      openWA(buildMsg("Real Estate — Availability Request", {
        Checkin: document.getElementById("re_in").value || "Not set",
        Checkout: document.getElementById("re_out").value || "Not set",
        Location: document.getElementById("re_loc").value || "Any",
        Budget: document.getElementById("re_budget").value || "",
        Notes: document.getElementById("re_notes").value || "",
        Message: "Hello Larmah, please confirm available verified options and total cost."
      }));
    }
    function submitQuickLG(){
      openWA(buildMsg("Logistics — Quote Request", {
        Pickup: document.getElementById("lg_pick").value || "Not set",
        Dropoff: document.getElementById("lg_drop").value || "Not set",
        Date: document.getElementById("lg_date").value || "Not set",
        Vehicle: document.getElementById("lg_vehicle").value || "Dispatch Bike",
        Notes: document.getElementById("lg_notes").value || "",
        Message: "Hello Larmah, please share pricing, ETA, and next steps."
      }));
    }
    window.submitQuickRE = submitQuickRE;
    window.submitQuickLG = submitQuickLG;

    // ===== featured loader + carousel + modal (synced)
    const __FEAT = { items: [], imgUrls:{}, imgIdx:{}, timers:{}, modal:{ id:null, title:"", desc:"", price:"", location:"", category:"", ref:"", featured:false, pageHref:"real-estate.html" } };

    function safeText(v){ return (v === null || v === undefined) ? "" : String(v); }
    function formatPrice(raw){ const s = safeText(raw).trim(); return s ? s : "Contact for quote"; }
    function listingRef(id){ return `WEB-${id}`; } // generic for featured; keep simple

    function getImages(it){
      const arr = Array.isArray(it.image_urls) ? it.image_urls.filter(Boolean) : [];
      if(arr.length) return arr.slice(0, 6);
      if(it.image_url) return [it.image_url];
      return ["assets/images/larmah-header.jpeg"];
    }
    function initImagesFor(it){
      const id = String(it.id);
      __FEAT.imgUrls[id] = getImages(it);
      __FEAT.imgIdx[id] = __FEAT.imgIdx[id] ?? 0;
    }
    function clearFeatTimers(){
      for(const k in __FEAT.timers){ try{ clearInterval(__FEAT.timers[k]); }catch{} }
      __FEAT.timers = {};
    }
    function setFeatImage(id){
      const img = document.getElementById(`ft-img-${id}`);
      if(!img) return;
      const urls = __FEAT.imgUrls[id] || ["assets/images/larmah-header.jpeg"];
      const idx = __FEAT.imgIdx[id] || 0;
      img.src = urls[idx] || urls[0] || "assets/images/larmah-header.jpeg";
      const dots = document.getElementById(`ft-dots-${id}`);
      if(dots) dots.querySelectorAll(".media-dot").forEach((d,i)=> d.classList.toggle("active", i===idx));
    }
    function cycleFeatImage(id, dir){
      const urls = __FEAT.imgUrls[id] || [];
      if(urls.length <= 1) return;
      const max = urls.length;
      const cur = __FEAT.imgIdx[id] || 0;
      __FEAT.imgIdx[id] = (cur + dir + max) % max;
      setFeatImage(id);
    }
    window.cycleFeatImage = cycleFeatImage;

    function autoRotateFeat(id){
      if(reduceMotion) return;
      const urls = __FEAT.imgUrls[id] || [];
      if(urls.length <= 1) return;
      __FEAT.timers[id] = setInterval(() => {
        __FEAT.imgIdx[id] = ((__FEAT.imgIdx[id]||0) + 1) % urls.length;
        const media = document.getElementById(`ft-media-${id}`);
        if(media){
          media.classList.add("is-fading");
          setTimeout(() => { setFeatImage(id); media.classList.remove("is-fading"); }, 180);
        } else setFeatImage(id);
      }, 5000);
    }

    function inferCategory(it){
      // use category column to decide link target
      const c = safeText(it.category).toLowerCase();
      if(c.includes("logistics")) return "Logistics";
      if(c.includes("real-estate") || c.includes("real estate")) return "Real Estate";
      // fallback from text
      const hay = (safeText(it.title)+" "+safeText(it.description)).toLowerCase();
      if(hay.includes("dispatch") || hay.includes("haulage") || hay.includes("pickup")) return "Logistics";
      return "Real Estate";
    }
    function inferLocation(it){
      return safeText(it.location || it.coverage || it.area || it.city || it.state || "Nigeria").trim() || "Nigeria";
    }

    function openFeatModalById(id){
      const it = (__FEAT.items||[]).find(x => String(x.id)===String(id));
      if(!it) return;

      const cat = inferCategory(it);
      __FEAT.modal.id = String(it.id);
      __FEAT.modal.title = safeText(it.title) || "Featured";
      __FEAT.modal.desc = safeText(it.description) || "No description provided.";
      __FEAT.modal.price = formatPrice(it.price);
      __FEAT.modal.location = inferLocation(it);
      __FEAT.modal.category = cat;
      __FEAT.modal.ref = `WEB-${cat === "Logistics" ? "LG" : "RE"}-${it.id}`;
      __FEAT.modal.featured = it.featured === true;
      __FEAT.modal.pageHref = (cat === "Logistics") ? "logistics.html" : "real-estate.html";

      document.getElementById("descTitle").textContent = __FEAT.modal.title;
      document.getElementById("descBody").textContent = __FEAT.modal.desc;
      const meta = document.getElementById("descMeta");
      meta.innerHTML = `
        <span class="chip"><i class="fa-solid fa-naira-sign" style="color:var(--gold)"></i> ${esc(__FEAT.modal.price)}</span>
        <span class="chip"><i class="fa-solid fa-location-dot" style="color:var(--gold)"></i> ${esc(__FEAT.modal.location)}</span>
        <span class="chip"><i class="fa-solid fa-tag" style="color:var(--gold)"></i> ${esc(__FEAT.modal.category)}</span>
        <span class="chip"><i class="fa-solid fa-hashtag" style="color:var(--gold)"></i> ${esc(__FEAT.modal.ref)}</span>
        ${__FEAT.modal.featured ? `<span class="star"><i class="fa-solid fa-star"></i> Featured</span>` : ``}
      `;
      const go = document.getElementById("descGoPage");
      go.href = __FEAT.modal.pageHref;

      const ov = document.getElementById("descOverlay");
      ov.classList.add("open");
      ov.setAttribute("aria-hidden","false");
      document.body.style.overflow = "hidden";
      setTimeout(() => ov.querySelector("button.icon-btn")?.focus?.(), 50);
    }
    function closeDescModal(){
      const ov = document.getElementById("descOverlay");
      ov.classList.remove("open");
      ov.setAttribute("aria-hidden","true");
      document.body.style.overflow = "";
    }
    function copyDescRef(){
      const txt = __FEAT.modal.ref || "";
      if(!txt) return;
      navigator.clipboard?.writeText(txt).then(
        () => {},
        () => {}
      );
    }
    function descModalEnquire(){
      openWA(buildMsg("Featured Enquiry", {
        Ref: __FEAT.modal.ref,
        Title: __FEAT.modal.title,
        Category: __FEAT.modal.category,
        Location: __FEAT.modal.location,
        Price: __FEAT.modal.price,
        Message: "Hello Larmah, I’m interested in this featured item. Please confirm availability/cost and next steps."
      }));
    }
    window.closeDescModal = closeDescModal;
    window.copyDescRef = copyDescRef;
    window.descModalEnquire = descModalEnquire;

    document.getElementById("descOverlay")?.addEventListener("click", (e) => {
      if(e.target && e.target.id === "descOverlay") closeDescModal();
    });
    document.addEventListener("keydown", (e) => {
      if(e.key === "Escape"){
        const ov = document.getElementById("descOverlay");
        if(ov?.classList?.contains("open")) closeDescModal();
      }
    });

    function featCardHTML(it){
      const id = String(it.id);
      initImagesFor(it);
      const urls = __FEAT.imgUrls[id] || [];
      const hasMany = urls.length > 1;

      const title = safeText(it.title) || "Featured";
      const desc = safeText(it.description) || "Featured item.";
      const price = formatPrice(it.price);
      const locationTxt = inferLocation(it);
      const categoryTxt = inferCategory(it);
      const isFeatured = it.featured === true;

      return `
        <article class="card" aria-label="${esc(title)}">
          <div class="media" id="ft-media-${id}">
            <img id="ft-img-${id}" src="${esc(urls[0] || 'assets/images/larmah-header.jpeg')}"
                 alt="${esc(title)}" loading="lazy" decoding="async"
                 onerror="this.src='assets/images/larmah-header.jpeg'">

            ${hasMany ? `
              <div class="media-nav">
                <button class="media-btn" type="button" aria-label="Previous image" onclick="cycleFeatImage('${id}', -1)">
                  <i class="fa-solid fa-chevron-left"></i>
                </button>
                <button class="media-btn" type="button" aria-label="Next image" onclick="cycleFeatImage('${id}', 1)">
                  <i class="fa-solid fa-chevron-right"></i>
                </button>
              </div>
              <div class="media-dots" id="ft-dots-${id}" aria-hidden="true">
                ${urls.map((_,i)=> `<span class="media-dot ${i===0?'active':''}"></span>`).join("")}
              </div>
            ` : ``}
          </div>

          <div class="card-body">
            <div class="title">
              ${esc(title)}
              ${isFeatured ? `<span class="star"><i class="fa-solid fa-star"></i> Featured</span>` : ``}
            </div>

            <p class="desc">${esc(desc)}</p>

            <div class="more-row">
              <button class="link-btn" type="button" onclick="openFeatModalById('${id}')">
                <i class="fa-regular fa-file-lines"></i> View more
              </button>
            </div>

            <div class="price">${esc(price)}</div>

            <div class="meta-row">
              <span class="chip"><i class="fa-solid fa-location-dot" style="color:var(--gold)"></i> ${esc(locationTxt)}</span>
              <span class="chip"><i class="fa-solid fa-tag" style="color:var(--gold)"></i> ${esc(categoryTxt)}</span>
            </div>

            <div class="actions-row">
              <button class="btn small solid" type="button" onclick="openWA(buildMsg('Enquiry', { Title:'${esc(title)}', Category:'${esc(categoryTxt)}', Location:'${esc(locationTxt)}', Message:'Hello Larmah, please confirm this item.' }))">
                <i class="fa-brands fa-whatsapp"></i> Enquire
              </button>
              <a class="btn small primary" href="${categoryTxt === "Logistics" ? "logistics.html" : "real-estate.html"}">
                <i class="fa-solid fa-arrow-right"></i> Open
              </a>
            </div>
          </div>
        </article>
      `;
    }

    async function loadFeatured(){
      const mount = document.getElementById("feat_mount");
      mount.innerHTML = `<div class="notice">Loading featured items…</div>`;
      clearFeatTimers();

      // wait for app.js client or fallback
      const sb = window.supabaseClient || (window.ensureSupabaseClient && window.ensureSupabaseClient()) || null;
      if(!sb){
        // try a short wait
        for(let i=0;i<16;i++){
          await new Promise(r=>setTimeout(r, 180));
          const s2 = window.supabaseClient || (window.ensureSupabaseClient && window.ensureSupabaseClient()) || null;
          if(s2){ return loadFeatured(); }
        }
        mount.innerHTML = `<div class="notice"><strong>Could not connect.</strong> Please refresh.</div>`;
        return;
      }

      try{
        const { data, error } = await sb
          .from("listings")
          .select("id,title,description,price,image_url,image_urls,location,coverage,area,city,state,category,status,featured,created_at")
          .eq("status","active")
          .eq("featured", true)
          .order("created_at", { ascending:false })
          .limit(12);

        if(error) throw error;

        __FEAT.items = data || [];
        if(!__FEAT.items.length){
          mount.innerHTML = `<div class="notice"><strong>No featured items yet.</strong> Mark items as featured in Admin to show here.</div>`;
          return;
        }

        mount.innerHTML = `<div class="grid">${__FEAT.items.slice(0,6).map(featCardHTML).join("")}</div>`;
        __FEAT.items.slice(0,6).forEach(it => autoRotateFeat(String(it.id)));
      }catch(e){
        console.error(e);
        mount.innerHTML = `<div class="notice"><strong>Could not load featured.</strong> Please refresh.</div>`;
      }
    }

    document.addEventListener("DOMContentLoaded", () => {
      loadFeatured();
    });

    // expose
    window.toggleMenu = toggleMenu;
    window.toggleTheme = toggleTheme;
    window.openWA = openWA;
    window.buildMsg = buildMsg;
  </script>

  <!-- Keep only one CF beacon -->
  <script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015"
    integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ=="
    data-cf-beacon='{"version":"2024.11.0","token":"d59085ad970f4cac8c9e0279fe03c627","r":1,"server_timing":{"name":{"cfCacheStatus":true,"cfEdge":true,"cfExtPri":true,"cfL4":true,"cfOrigin":true,"cfSpeedBrain":true},"location_startswith":null}}'
    crossorigin="anonymous"></script>
</body>
</html>
